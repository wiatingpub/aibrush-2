(this["webpackJsonpaibrush-frontend"]=this["webpackJsonpaibrush-frontend"]||[]).push([[0],{11:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return c}));var r=5,a=[{displayName:"4:1",width:1024,height:256,id:0},{displayName:"3:1",width:768,height:256,id:1},{displayName:"2:1",width:640,height:320,id:2},{displayName:"3:2",width:576,height:384,id:3},{displayName:"5:4",width:640,height:512,id:4},{displayName:"1:1",width:512,height:512,id:5},{displayName:"4:5",width:512,height:640,id:6},{displayName:"2:3",width:384,height:576,id:7},{displayName:"1:2",width:320,height:640,id:8},{displayName:"1:3",width:256,height:768,id:9},{displayName:"1:4",width:256,height:1024,id:10}];function i(e,t){var n=e/t,r=[].concat(a);return r.sort((function(e,t){var r=e.width/e.height,a=t.width/t.height;return Math.abs(r-n)-Math.abs(a-n)})),r[0]}function s(e,t,n){return e.width*e.height-t*n}function c(e){return{displayName:e.displayName,width:2*e.width,height:2*e.height,id:e.id}}},138:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(7),a=n(0),i=n(12),s=(n(195),n(139)),c=n(30),o=n(91),u=n(92),l=n(96),h=n(94),d=n(145),f=n(1),p=function(t){var n=t.api,p=Object(a.useState)(!1),b=Object(r.a)(p,2),g=b[0],v=b[1],j=[{name:"select",iconClass:"far fa-square",constructor:function(e){return new o.b(e)},renderControls:function(e,t){return Object(f.jsx)(o.a,{tool:e,renderer:t})},defaultArgs:{selectionWidth:512,selectionHeight:512}},{name:"enhance",iconClass:"fas fa-magic",constructor:function(e){return new u.b(e)},defaultArgs:{variationStrength:.75},renderControls:function(e,t){return e.onShowSelectionControls(v),Object(f.jsx)(u.a,{tool:e,renderer:t,api:n,image:x})}},{name:"pencil",iconClass:"fas fa-pencil-alt",constructor:function(e){return new l.b(e)},defaultArgs:{},renderControls:function(e,t){return Object(f.jsx)(l.a,{tool:e,renderer:t})}},{name:"smudge",iconClass:"fas fa-hand-pointer",constructor:function(e){return new h.b(e)},defaultArgs:{},renderControls:function(e,t){return Object(f.jsx)(h.a,{tool:e,renderer:t})}},{name:"import-export",iconClass:"fas fa-file-import",constructor:function(e){return new c.a("import-export")},defaultArgs:{},renderControls:function(e,t){return Object(f.jsx)(d.a,{renderer:t,tool:e,api:n})}}],m=Object(a.useState)(null),O=Object(r.a)(m,2),x=O[0],y=O[1],w=Object(a.useState)(null),k=Object(r.a)(w,2),N=k[0],S=k[1],_=Object(a.useState)(null),E=Object(r.a)(_,2),U=E[0],I=E[1],C=Object(i.g)().id,R=Object(i.f)(),M=Object(a.useRef)(null),P=function(e){if(N){if(U&&!U.destroy())return;var t=e.constructor(N);I(t),t.onSaveImage((function(e){console.log("Saving image..."),n.updateImage(C,{encoded_image:e})}))}};function B(e){var t="btn btn-secondary light-button image-editor-tool-button",n=U&&U.name==e.name;return n&&(t="btn btn-primary image-editor-tool-button"),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("button",{className:t,onClick:function(){return P(e)},children:Object(f.jsx)("i",{className:e.iconClass})}),Object(f.jsx)("label",{children:e.name.charAt(0).toUpperCase()+e.name.slice(1)}),n&&e.renderControls(U,N)]},e.name)}function L(e){return e.preventDefault(),!0}return Object(a.useEffect)((function(){n.getImage(C).then((function(t){y(t.data),n.getImageData(C,{responseType:"arraybuffer"}).then((function(t){var n=e.from(t.data,"binary").toString("base64"),r="data:image/jpeg;base64,".concat(n),a=new Image;a.src=r,a.onload=function(){if(M.current){var e=Object(s.a)(M.current);e.setBaseImage(a),S(e)}else console.error("Failed to get canvas")}}))}))}),[C]),Object(a.useEffect)((function(){N&&P(j[0])}),[N]),Object(a.useEffect)((function(){if(M.current){var e=function(e){U&&(e.preventDefault(),U.onWheel(e))};return M.current.addEventListener("wheel",e),function(){var t;null===(t=M.current)||void 0===t||t.removeEventListener("wheel",e)}}}),[U,M.current]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsxs)("h1",{style:{fontSize:"40px",textAlign:"left"},children:[Object(f.jsx)("i",{style:{cursor:"pointer"},onClick:function(){return R.goBack()},className:"fas fa-chevron-left"}),"\xa0 AI Edit"]})})}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-lg-3",children:N&&Object(f.jsx)(f.Fragment,{children:j.map((function(e){return B(e)}))})}),Object(f.jsxs)("div",{className:"col-lg-9",children:[Object(f.jsxs)("div",{style:{verticalAlign:"middle"},children:[g&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{style:{float:"left",marginTop:"45%"},children:Object(f.jsx)("button",{className:"btn btn-secondary",onClick:function(){return U.select("left")},children:Object(f.jsx)("i",{className:"fas fa-chevron-left"})})}),Object(f.jsx)("div",{style:{float:"right",marginTop:"45%"},children:Object(f.jsx)("button",{className:"btn btn-secondary",onClick:function(){return U.select("right")},children:Object(f.jsx)("i",{className:"fas fa-chevron-right"})})})]}),Object(f.jsx)("canvas",{style:{cursor:"none"},ref:M,className:"image-editor-canvas",onMouseDown:function(e){return L(e)&&U&&U.onMouseDown(e)},onMouseMove:function(e){return L(e)&&U&&U.onMouseMove(e)},onMouseUp:function(e){return L(e)&&U&&U.onMouseUp(e)},onMouseLeave:function(e){return L(e)&&U&&U.onMouseLeave(e)}})]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("button",{className:"btn btn-primary",style:{position:"absolute",left:"50%",transform:"translate(-50%, 0)"},onClick:function(){N&&N.updateZoomAndOffset(1,0,0)},children:"Reset View"})})]})]})]})}}).call(this,n(106).Buffer)},139:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(17),i=function(){function e(t){Object(r.a)(this,e),this.canvas=t,this.baseImageLayer=void 0,this.editLayer=void 0,this.overlayLayer=void 0,this.selectionOverlay=void 0,this.selectionOverlayPreview=void 0,this.hasSelection=!1,this.cursor=void 0,this.zoom=void 0,this.offsetX=void 0,this.offsetY=void 0,this.baseImageLayer=document.createElement("canvas"),this.editLayer=document.createElement("canvas"),this.overlayLayer=document.createElement("canvas"),this.zoom=1,this.offsetX=0,this.offsetY=0}return Object(a.a)(e,[{key:"render",value:function(){var e=this.canvas.getContext("2d");e&&(e.clearRect(0,0,this.canvas.width,this.canvas.height),e.setTransform(this.zoom,0,0,this.zoom,this.offsetX*this.zoom,this.offsetY*this.zoom),e.drawImage(this.baseImageLayer,0,0),e.drawImage(this.editLayer,0,0),this.hasSelection||e.drawImage(this.overlayLayer,0,0))}},{key:"getCanvas",value:function(){return this.canvas}},{key:"setBaseImage",value:function(e){var t=this.baseImageLayer.getContext("2d");t&&(this.baseImageLayer.width=e.width,this.baseImageLayer.height=e.height,this.editLayer.width=e.width,this.editLayer.height=e.height,this.overlayLayer.width=e.width,this.overlayLayer.height=e.height,this.canvas.width=e.width,this.canvas.height=e.height,t.drawImage(e,0,0),this.setSelectionOverlay({x:(e.width-512)/2,y:(e.height-512)/2,width:512,height:512}),this.render())}},{key:"setEditImage",value:function(e){this.hasSelection=!!e;var t=this.editLayer.getContext("2d");t&&this.selectionOverlay&&(t.clearRect(0,0,this.editLayer.width,this.editLayer.height),e&&t.putImageData(e,this.selectionOverlay.x,this.selectionOverlay.y),this.render())}},{key:"drawOverlay",value:function(){var e=Math.max(this.canvas.width/512,this.canvas.height/512),t=this.overlayLayer.getContext("2d");t&&(t.clearRect(0,0,this.overlayLayer.width,this.overlayLayer.height),t.strokeStyle="gray",t.lineWidth=e,t.strokeRect(0,0,this.overlayLayer.width,this.overlayLayer.height),this.selectionOverlay&&(t.strokeStyle="white",t.lineWidth=e,t.strokeRect(this.selectionOverlay.x,this.selectionOverlay.y,this.selectionOverlay.width,this.selectionOverlay.height)),this.selectionOverlayPreview&&(t.strokeStyle="cyan",t.lineWidth=e,t.strokeRect(this.selectionOverlayPreview.x,this.selectionOverlayPreview.y,this.selectionOverlayPreview.width,this.selectionOverlayPreview.height)),this.cursor&&("circle"===this.cursor.type?(t.lineWidth=e,t.strokeStyle=this.cursor.color,t.beginPath(),t.arc(this.cursor.x,this.cursor.y,this.cursor.radius,0,2*Math.PI),t.stroke()):"circle-fill"===this.cursor.type?(t.fillStyle=this.cursor.color,t.beginPath(),t.arc(this.cursor.x,this.cursor.y,this.cursor.radius,0,2*Math.PI),t.fill()):"colorpicker"===this.cursor.type&&(t.lineWidth=.75*this.cursor.radius,t.strokeStyle=this.cursor.color,t.beginPath(),t.arc(this.cursor.x,this.cursor.y,this.cursor.radius,0,2*Math.PI),t.stroke(),t.lineWidth=e,t.strokeStyle="black",t.beginPath(),t.moveTo(this.cursor.x-this.cursor.radius,this.cursor.y),t.lineTo(this.cursor.x+this.cursor.radius,this.cursor.y),t.moveTo(this.cursor.x,this.cursor.y-this.cursor.radius),t.lineTo(this.cursor.x,this.cursor.y+this.cursor.radius),t.stroke())),this.render())}},{key:"setSelectionOverlay",value:function(e){this.selectionOverlay=e,this.drawOverlay()}},{key:"setSelectionOverlayPreview",value:function(e){this.selectionOverlayPreview=e,this.drawOverlay()}},{key:"setCursor",value:function(e){this.cursor=e,this.drawOverlay()}},{key:"getSelectionOverlay",value:function(){return this.selectionOverlay}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOffsetX",value:function(){return this.offsetX}},{key:"getOffsetY",value:function(){return this.offsetY}},{key:"updateZoomAndOffset",value:function(e,t,n){this.zoom=e,this.offsetX=t,this.offsetY=n,this.render()}},{key:"getWidth",value:function(){return this.canvas.width}},{key:"getHeight",value:function(){return this.canvas.height}},{key:"getEncodedImage",value:function(e){var t=this.getImageData(e);if(t){var n=document.createElement("canvas");n.width=t.width,n.height=t.height;var r=n.getContext("2d");if(r){r.putImageData(t,0,0);var a=n.toDataURL("image/jpeg");return n.remove(),a.split(",")[1]}}}},{key:"getImageData",value:function(e){e||(e={x:0,y:0,width:this.canvas.width,height:this.canvas.height});var t=this.baseImageLayer.getContext("2d");if(t)return t.getImageData(e.x,e.y,e.width,e.height)}},{key:"commitSelection",value:function(){var e=this.baseImageLayer.getContext("2d");e&&(e.drawImage(this.editLayer,0,0),this.setEditImage(null))}},{key:"drawPoint",value:function(e,t,n,r){var a=this.editLayer.getContext("2d");a&&(a.fillStyle=r,a.beginPath(),a.arc(e,t,n/2,0,2*Math.PI),a.fill()),this.render()}},{key:"drawLine",value:function(e,t,n,r,a,i){var s=this.editLayer.getContext("2d");s&&(s.strokeStyle=i,s.lineWidth=a,s.lineCap="round",s.beginPath(),s.moveTo(e,t),s.lineTo(n,r),s.stroke()),this.render()}},{key:"smudgeLine",value:function(e,t,n,r,a,i){var s={x:n-e,y:r-t},c=Math.sqrt(s.x*s.x+s.y*s.y);s.x/=c,s.y/=c;var o=this.editLayer.getContext("2d");if(o)for(var u=0;u<c;u++){for(var l=e+u*s.x,h=t+u*s.y,d=o.getImageData(l-a/2,h-a/2,a,a),f=0,p=0,b=0,g=0,v=0;v<d.height;v++)for(var j=0;j<d.width;j++){var m=4*(v*d.width+j);if(Math.sqrt((j-a/2)*(j-a/2)+(v-a/2)*(v-a/2))<=a/2)f+=d.data[m],p+=d.data[m+1],b+=d.data[m+2],g++}for(var O=f/g,x=p/g,y=b/g,w=0;w<d.height;w++)for(var k=0;k<d.width;k++){var N=4*(w*d.width+k);Math.sqrt((k-a/2)*(k-a/2)+(w-a/2)*(w-a/2))<=a/2&&(d.data[N]=O*i+d.data[N]*(1-i),d.data[N+1]=x*i+d.data[N+1]*(1-i),d.data[N+2]=y*i+d.data[N+2]*(1-i))}o.putImageData(d,l-a/2,h-a/2)}this.render()}},{key:"getPixel",value:function(e,t){var n=this.baseImageLayer.getContext("2d");if(n){var r=n.getImageData(e,t,1,1).data;return"#"+("000000"+function(e,t,n){if(e>255||t>255||n>255)throw"Invalid color component";return(e<<16|t<<8|n).toString(16)}(r[0],r[1],r[2])).slice(-6)}return"#000000"}},{key:"copyEditImageFromBaseImage",value:function(){var e=this.editLayer.getContext("2d");e&&e.drawImage(this.baseImageLayer,0,0),this.render()}}]),e}();function s(e){return new i(e)}},140:function(e,t,n){"use strict";function r(e){return new Promise((function(t){return window.setTimeout(t,e)}))}n.d(t,"a",(function(){return r}))},145:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(7),a=n(0),i=n(65),s=n.n(i),c=n(63),o=n.n(c),u=n(1),l=function(e){var t=e.renderer,n=e.tool,i=Object(a.useState)(),c=Object(r.a)(i,2),l=c[0],h=c[1];return l?Object(u.jsxs)("div",{className:"form-group",style:{marginTop:"16px"},children:[Object(u.jsx)("button",{onClick:function(){h(void 0);var e=new Image,n="data:image/png;base64,"+l;e.src=n,e.onload=function(){t.setBaseImage(e)}},children:"Revert"}),Object(u.jsx)("button",{onClick:function(){h(void 0),n.saveListener&&n.saveListener(l)},children:"Save"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"form-group",style:{marginTop:"16px"},children:Object(u.jsxs)("label",{id:"loadimage-wrapper",className:"btn btn-primary ",style:{display:"inline"},children:[Object(u.jsx)("i",{className:"fas fa-upload"}),"\xa0 Import Image",Object(u.jsx)("input",{id:"loadimage",type:"file",style:{display:"none"},onChange:function(e){var n=e.target.files;n&&n.length>0&&s()(n[0],(function(e){var n=t.getEncodedImage(null);h(n),t.setBaseImage(e)}),{canvas:!1})}})]})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsxs)("button",{className:"btn btn-primary",onClick:function(){!function(){var e=t.getEncodedImage(null);if(e){for(var n=atob(e),r=new ArrayBuffer(n.length),a=new Uint8Array(r),i=0;i<n.length;i++)a[i]=n.charCodeAt(i);var s=new Blob([a],{type:"image/jpeg"});o()(s,"image.jpg")}}()},style:{marginLeft:"8px"},children:[Object(u.jsx)("i",{className:"fas fa-download"}),"\xa0 Export Image"]})})]})}},157:function(e,t,n){},16:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return W}));var r,a,i,s,c,o,u,l,h,d,f,p,b,g,v=n(14),j=n(17),m=n(25),O=n(26),x=n(2),y=n.n(x),w=n(3),k=n(4),N=n(8),S=n.n(N),_=n(136),E=n(152),U="https://aibrush.ngrok.io".replace(/\/+$/,""),I=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:U,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S.a;Object(v.a)(this,e),this.basePath=n,this.axios=r,this.configuration=void 0,t&&(this.configuration=t,this.basePath=t.basePath||this.basePath)},C=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(e,r){var a;return Object(v.a)(this,n),(a=t.call(this,r)).field=e,a.name="RequiredError",a}return n}(Object(E.a)(Error)),R="https://example.com",M=function(e,t,n){if(null===n||void 0===n)throw new C(t,"Required parameter ".concat(t," was null or undefined when calling ").concat(e,"."))},P=function(e){for(var t=new URLSearchParams(e.search),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(var i=0,s=r;i<s.length;i++){var c=s[i];for(var o in c)if(Array.isArray(c[o])){t.delete(o);var u,l=Object(_.a)(c[o]);try{for(l.s();!(u=l.n()).done;){var h=u.value;t.append(o,h)}}catch(d){l.e(d)}finally{l.f()}}else t.set(o,c[o])}e.search=t.toString()},B=function(e,t,n){var r="string"!==typeof e;return(r&&n&&n.isJsonMime?n.isJsonMime(t.headers["Content-Type"]):r)?JSON.stringify(void 0!==e?e:{}):e||""},L=function(e){return e.pathname+e.search+e.hash},T=function(e,t,n,r){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,s=Object(w.a)(Object(w.a)({},e.options),{},{url:((null===r||void 0===r?void 0:r.basePath)||i)+e.url});return a.request(s)}};!function(e){e.Pending="pending",e.Processing="processing",e.Completed="completed",e.Saved="saved",e.Error="error"}(r||(r={})),function(e){e[e.NUMBER_128=128]="NUMBER_128",e[e.NUMBER_256=256]="NUMBER_256",e[e.NUMBER_384=384]="NUMBER_384",e[e.NUMBER_512=512]="NUMBER_512",e[e.NUMBER_640=640]="NUMBER_640",e[e.NUMBER_768=768]="NUMBER_768",e[e.NUMBER_896=896]="NUMBER_896",e[e.NUMBER_1024=1024]="NUMBER_1024"}(a||(a={})),function(e){e[e.NUMBER_128=128]="NUMBER_128",e[e.NUMBER_256=256]="NUMBER_256",e[e.NUMBER_384=384]="NUMBER_384",e[e.NUMBER_512=512]="NUMBER_512",e[e.NUMBER_640=640]="NUMBER_640",e[e.NUMBER_768=768]="NUMBER_768",e[e.NUMBER_896=896]="NUMBER_896",e[e.NUMBER_1024=1024]="NUMBER_1024"}(i||(i={})),function(e){e.Public="public",e.Private="private"}(s||(s={})),function(e){e.Ok="ok"}(c||(c={})),function(e){e.Pending="pending",e.Processing="processing",e.Completed="completed",e.Saved="saved",e.Error="error"}(o||(o={})),function(e){e[e.NUMBER_128=128]="NUMBER_128",e[e.NUMBER_256=256]="NUMBER_256",e[e.NUMBER_384=384]="NUMBER_384",e[e.NUMBER_512=512]="NUMBER_512",e[e.NUMBER_640=640]="NUMBER_640",e[e.NUMBER_768=768]="NUMBER_768",e[e.NUMBER_896=896]="NUMBER_896",e[e.NUMBER_1024=1024]="NUMBER_1024"}(u||(u={})),function(e){e[e.NUMBER_128=128]="NUMBER_128",e[e.NUMBER_256=256]="NUMBER_256",e[e.NUMBER_384=384]="NUMBER_384",e[e.NUMBER_512=512]="NUMBER_512",e[e.NUMBER_640=640]="NUMBER_640",e[e.NUMBER_768=768]="NUMBER_768",e[e.NUMBER_896=896]="NUMBER_896",e[e.NUMBER_1024=1024]="NUMBER_1024"}(l||(l={})),function(e){e[e.NUMBER_MINUS_896=-896]="NUMBER_MINUS_896",e[e.NUMBER_MINUS_768=-768]="NUMBER_MINUS_768",e[e.NUMBER_MINUS_640=-640]="NUMBER_MINUS_640",e[e.NUMBER_MINUS_512=-512]="NUMBER_MINUS_512",e[e.NUMBER_MINUS_384=-384]="NUMBER_MINUS_384",e[e.NUMBER_MINUS_256=-256]="NUMBER_MINUS_256",e[e.NUMBER_MINUS_128=-128]="NUMBER_MINUS_128",e[e.NUMBER_0=0]="NUMBER_0",e[e.NUMBER_128=128]="NUMBER_128",e[e.NUMBER_256=256]="NUMBER_256",e[e.NUMBER_384=384]="NUMBER_384",e[e.NUMBER_512=512]="NUMBER_512",e[e.NUMBER_640=640]="NUMBER_640",e[e.NUMBER_768=768]="NUMBER_768",e[e.NUMBER_896=896]="NUMBER_896"}(h||(h={})),function(e){e[e.NUMBER_MINUS_896=-896]="NUMBER_MINUS_896",e[e.NUMBER_MINUS_768=-768]="NUMBER_MINUS_768",e[e.NUMBER_MINUS_640=-640]="NUMBER_MINUS_640",e[e.NUMBER_MINUS_512=-512]="NUMBER_MINUS_512",e[e.NUMBER_MINUS_384=-384]="NUMBER_MINUS_384",e[e.NUMBER_MINUS_256=-256]="NUMBER_MINUS_256",e[e.NUMBER_MINUS_128=-128]="NUMBER_MINUS_128",e[e.NUMBER_0=0]="NUMBER_0",e[e.NUMBER_128=128]="NUMBER_128",e[e.NUMBER_256=256]="NUMBER_256",e[e.NUMBER_384=384]="NUMBER_384",e[e.NUMBER_512=512]="NUMBER_512",e[e.NUMBER_640=640]="NUMBER_640",e[e.NUMBER_768=768]="NUMBER_768",e[e.NUMBER_896=896]="NUMBER_896"}(d||(d={})),function(e){e.Pending="pending",e.Processing="processing",e.Completed="completed",e.Saved="saved",e.Error="error"}(f||(f={})),function(e){e.Pending="pending",e.Processing="processing",e.Completed="completed"}(p||(p={})),function(e){e.Pending="pending",e.Processing="processing",e.Completed="completed",e.Saved="saved",e.Error="error"}(b||(b={})),function(e){e.Pending="pending",e.Processing="processing",e.Completed="completed",e.Saved="saved"}(g||(g={}));var D=function(e){var t=function(e){return{createImage:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},a=new URL("/api/images",R),e&&(i=e.baseOptions),s=Object(w.a)(Object(w.a)({method:"POST"},i),r),o={},(c={})["Content-Type"]="application/json",P(a,o,r.query),u=i&&i.headers?i.headers:{},s.headers=Object(w.a)(Object(w.a)(Object(w.a)({},c),u),r.headers),s.data=B(n,s,e),t.abrupt("return",{url:L(a),options:s});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),createInviteCode:function(){var t=Object(k.a)(y.a.mark((function t(){var n,r,a,i,s,c,o=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:{},r=new URL("/api/invite-codes",R),e&&(a=e.baseOptions),i=Object(w.a)(Object(w.a)({method:"POST"},a),n),s={},P(r,{},n.query),c=a&&a.headers?a.headers:{},i.headers=Object(w.a)(Object(w.a)(Object(w.a)({},s),c),n.headers),t.abrupt("return",{url:L(r),options:i});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),createServiceAccount:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},a=new URL("/api/auth/service-accounts",R),e&&(i=e.baseOptions),s=Object(w.a)(Object(w.a)({method:"POST"},i),r),o={},(c={})["Content-Type"]="application/json",P(a,o,r.query),u=i&&i.headers?i.headers:{},s.headers=Object(w.a)(Object(w.a)(Object(w.a)({},c),u),r.headers),s.data=B(n,s,e),t.abrupt("return",{url:L(a),options:s});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),createSuggestionSeed:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},a=new URL("/api/suggestion-seeds",R),e&&(i=e.baseOptions),s=Object(w.a)(Object(w.a)({method:"POST"},i),r),o={},(c={})["Content-Type"]="application/json",P(a,o,r.query),u=i&&i.headers?i.headers:{},s.headers=Object(w.a)(Object(w.a)(Object(w.a)({},c),u),r.headers),s.data=B(n,s,e),t.abrupt("return",{url:L(a),options:s});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),createSuggestionsJob:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},a=new URL("/api/suggestions-jobs",R),e&&(i=e.baseOptions),s=Object(w.a)(Object(w.a)({method:"POST"},i),r),o={},(c={})["Content-Type"]="application/json",P(a,o,r.query),u=i&&i.headers?i.headers:{},s.headers=Object(w.a)(Object(w.a)(Object(w.a)({},c),u),r.headers),s.data=B(n,s,e),t.abrupt("return",{url:L(a),options:s});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),createSvgJob:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},a=new URL("/api/svg-jobs",R),e&&(i=e.baseOptions),s=Object(w.a)(Object(w.a)({method:"POST"},i),r),o={},(c={})["Content-Type"]="application/json",P(a,o,r.query),u=i&&i.headers?i.headers:{},s.headers=Object(w.a)(Object(w.a)(Object(w.a)({},c),u),r.headers),s.data=B(n,s,e),t.abrupt("return",{url:L(a),options:s});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),createWorkflow:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},a=new URL("/api/workflows",R),e&&(i=e.baseOptions),s=Object(w.a)(Object(w.a)({method:"POST"},i),r),o={},(c={})["Content-Type"]="application/json",P(a,o,r.query),u=i&&i.headers?i.headers:{},s.headers=Object(w.a)(Object(w.a)(Object(w.a)({},c),u),r.headers),s.data=B(n,s,e),t.abrupt("return",{url:L(a),options:s});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),createWorkflowEvent:function(){var t=Object(k.a)(y.a.mark((function t(n,r){var a,i,s,c,o,u,l,h,d=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=d.length>2&&void 0!==d[2]?d[2]:{},M("createWorkflowEvent","workflowId",n),i="/api/workflows/{workflow_id}/events".replace("{".concat("workflow_id","}"),encodeURIComponent(String(n))),s=new URL(i,R),e&&(c=e.baseOptions),o=Object(w.a)(Object(w.a)({method:"POST"},c),a),l={},(u={})["Content-Type"]="application/json",P(s,l,a.query),h=c&&c.headers?c.headers:{},o.headers=Object(w.a)(Object(w.a)(Object(w.a)({},u),h),a.headers),o.data=B(r,o,e),t.abrupt("return",{url:L(s),options:o});case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),deleteImage:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},M("deleteImage","id",n),a="/api/images/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),i=new URL(a,R),e&&(s=e.baseOptions),c=Object(w.a)(Object(w.a)({method:"DELETE"},s),r),o={},P(i,{},r.query),u=s&&s.headers?s.headers:{},c.headers=Object(w.a)(Object(w.a)(Object(w.a)({},o),u),r.headers),t.abrupt("return",{url:L(i),options:c});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),deleteSuggestionSeed:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},M("deleteSuggestionSeed","id",n),a="/api/suggestion-seeds/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),i=new URL(a,R),e&&(s=e.baseOptions),c=Object(w.a)(Object(w.a)({method:"DELETE"},s),r),o={},P(i,{},r.query),u=s&&s.headers?s.headers:{},c.headers=Object(w.a)(Object(w.a)(Object(w.a)({},o),u),r.headers),t.abrupt("return",{url:L(i),options:c});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),deleteSuggestionsJob:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},M("deleteSuggestionsJob","id",n),a="/api/suggestions-jobs/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),i=new URL(a,R),e&&(s=e.baseOptions),c=Object(w.a)(Object(w.a)({method:"DELETE"},s),r),o={},P(i,{},r.query),u=s&&s.headers?s.headers:{},c.headers=Object(w.a)(Object(w.a)(Object(w.a)({},o),u),r.headers),t.abrupt("return",{url:L(i),options:c});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),deleteSvgJob:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},M("deleteSvgJob","id",n),a="/api/svg-jobs/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),i=new URL(a,R),e&&(s=e.baseOptions),c=Object(w.a)(Object(w.a)({method:"DELETE"},s),r),o={},P(i,{},r.query),u=s&&s.headers?s.headers:{},c.headers=Object(w.a)(Object(w.a)(Object(w.a)({},o),u),r.headers),t.abrupt("return",{url:L(i),options:c});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),deleteWorkflow:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},M("deleteWorkflow","workflowId",n),a="/api/workflows/{workflow_id}".replace("{".concat("workflow_id","}"),encodeURIComponent(String(n))),i=new URL(a,R),e&&(s=e.baseOptions),c=Object(w.a)(Object(w.a)({method:"DELETE"},s),r),o={},P(i,{},r.query),u=s&&s.headers?s.headers:{},c.headers=Object(w.a)(Object(w.a)(Object(w.a)({},o),u),r.headers),t.abrupt("return",{url:L(i),options:c});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getAssetsUrl:function(){var t=Object(k.a)(y.a.mark((function t(){var n,r,a,i,s,c,o=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:{},r=new URL("/api/assets-url",R),e&&(a=e.baseOptions),i=Object(w.a)(Object(w.a)({method:"GET"},a),n),s={},P(r,{},n.query),c=a&&a.headers?a.headers:{},i.headers=Object(w.a)(Object(w.a)(Object(w.a)({},s),c),n.headers),t.abrupt("return",{url:L(r),options:i});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getFeatures:function(){var t=Object(k.a)(y.a.mark((function t(){var n,r,a,i,s,c,o=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:{},r=new URL("/api/features",R),e&&(a=e.baseOptions),i=Object(w.a)(Object(w.a)({method:"GET"},a),n),s={},P(r,{},n.query),c=a&&a.headers?a.headers:{},i.headers=Object(w.a)(Object(w.a)(Object(w.a)({},s),c),n.headers),t.abrupt("return",{url:L(r),options:i});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getImage:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},M("getImage","id",n),a="/api/images/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),i=new URL(a,R),e&&(s=e.baseOptions),c=Object(w.a)(Object(w.a)({method:"GET"},s),r),o={},P(i,{},r.query),u=s&&s.headers?s.headers:{},c.headers=Object(w.a)(Object(w.a)(Object(w.a)({},o),u),r.headers),t.abrupt("return",{url:L(i),options:c});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getImageData:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},M("getImageData","id",n),a="/api/images/{id}.image.jpg".replace("{".concat("id","}"),encodeURIComponent(String(n))),i=new URL(a,R),e&&(s=e.baseOptions),c=Object(w.a)(Object(w.a)({method:"GET"},s),r),o={},P(i,{},r.query),u=s&&s.headers?s.headers:{},c.headers=Object(w.a)(Object(w.a)(Object(w.a)({},o),u),r.headers),t.abrupt("return",{url:L(i),options:c});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getMaskData:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},M("getMaskData","id",n),a="/api/images/{id}.mask.jpg".replace("{".concat("id","}"),encodeURIComponent(String(n))),i=new URL(a,R),e&&(s=e.baseOptions),c=Object(w.a)(Object(w.a)({method:"GET"},s),r),o={},P(i,{},r.query),u=s&&s.headers?s.headers:{},c.headers=Object(w.a)(Object(w.a)(Object(w.a)({},o),u),r.headers),t.abrupt("return",{url:L(i),options:c});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getNpyData:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},M("getNpyData","id",n),a="/api/images/{id}.npy".replace("{".concat("id","}"),encodeURIComponent(String(n))),i=new URL(a,R),e&&(s=e.baseOptions),c=Object(w.a)(Object(w.a)({method:"GET"},s),r),o={},P(i,{},r.query),u=s&&s.headers?s.headers:{},c.headers=Object(w.a)(Object(w.a)(Object(w.a)({},o),u),r.headers),t.abrupt("return",{url:L(i),options:c});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getSuggestionSeed:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},M("getSuggestionSeed","id",n),a="/api/suggestion-seeds/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),i=new URL(a,R),e&&(s=e.baseOptions),c=Object(w.a)(Object(w.a)({method:"GET"},s),r),o={},P(i,{},r.query),u=s&&s.headers?s.headers:{},c.headers=Object(w.a)(Object(w.a)(Object(w.a)({},o),u),r.headers),t.abrupt("return",{url:L(i),options:c});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getSuggestionsJob:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},M("getSuggestionsJob","id",n),a="/api/suggestions-jobs/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),i=new URL(a,R),e&&(s=e.baseOptions),c=Object(w.a)(Object(w.a)({method:"GET"},s),r),o={},P(i,{},r.query),u=s&&s.headers?s.headers:{},c.headers=Object(w.a)(Object(w.a)(Object(w.a)({},o),u),r.headers),t.abrupt("return",{url:L(i),options:c});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getSvgJob:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},M("getSvgJob","id",n),a="/api/svg-jobs/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),i=new URL(a,R),e&&(s=e.baseOptions),c=Object(w.a)(Object(w.a)({method:"GET"},s),r),o={},P(i,{},r.query),u=s&&s.headers?s.headers:{},c.headers=Object(w.a)(Object(w.a)(Object(w.a)({},o),u),r.headers),t.abrupt("return",{url:L(i),options:c});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getSvgJobResult:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},M("getSvgJobResult","id",n),a="/api/svg-jobs/{id}/result.svg".replace("{".concat("id","}"),encodeURIComponent(String(n))),i=new URL(a,R),e&&(s=e.baseOptions),c=Object(w.a)(Object(w.a)({method:"GET"},s),r),o={},P(i,{},r.query),u=s&&s.headers?s.headers:{},c.headers=Object(w.a)(Object(w.a)(Object(w.a)({},o),u),r.headers),t.abrupt("return",{url:L(i),options:c});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getThumbnailData:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},M("getThumbnailData","id",n),a="/api/images/{id}.thumbnail.jpg".replace("{".concat("id","}"),encodeURIComponent(String(n))),i=new URL(a,R),e&&(s=e.baseOptions),c=Object(w.a)(Object(w.a)({method:"GET"},s),r),o={},P(i,{},r.query),u=s&&s.headers?s.headers:{},c.headers=Object(w.a)(Object(w.a)(Object(w.a)({},o),u),r.headers),t.abrupt("return",{url:L(i),options:c});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getVideoData:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},M("getVideoData","id",n),a="/api/images/{id}.mp4".replace("{".concat("id","}"),encodeURIComponent(String(n))),i=new URL(a,R),e&&(s=e.baseOptions),c=Object(w.a)(Object(w.a)({method:"GET"},s),r),o={},P(i,{},r.query),u=s&&s.headers?s.headers:{},c.headers=Object(w.a)(Object(w.a)(Object(w.a)({},o),u),r.headers),t.abrupt("return",{url:L(i),options:c});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getWorkflow:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},M("getWorkflow","workflowId",n),a="/api/workflows/{workflow_id}".replace("{".concat("workflow_id","}"),encodeURIComponent(String(n))),i=new URL(a,R),e&&(s=e.baseOptions),c=Object(w.a)(Object(w.a)({method:"GET"},s),r),o={},P(i,{},r.query),u=s&&s.headers?s.headers:{},c.headers=Object(w.a)(Object(w.a)(Object(w.a)({},o),u),r.headers),t.abrupt("return",{url:L(i),options:c});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getWorkflowEvents:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},M("getWorkflowEvents","workflowId",n),a="/api/workflows/{workflow_id}/events".replace("{".concat("workflow_id","}"),encodeURIComponent(String(n))),i=new URL(a,R),e&&(s=e.baseOptions),c=Object(w.a)(Object(w.a)({method:"GET"},s),r),o={},P(i,{},r.query),u=s&&s.headers?s.headers:{},c.headers=Object(w.a)(Object(w.a)(Object(w.a)({},o),u),r.headers),t.abrupt("return",{url:L(i),options:c});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getWorkflows:function(){var t=Object(k.a)(y.a.mark((function t(){var n,r,a,i,s,c,o=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:{},r=new URL("/api/workflows",R),e&&(a=e.baseOptions),i=Object(w.a)(Object(w.a)({method:"GET"},a),n),s={},P(r,{},n.query),c=a&&a.headers?a.headers:{},i.headers=Object(w.a)(Object(w.a)(Object(w.a)({},s),c),n.headers),t.abrupt("return",{url:L(r),options:i});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),healthcheck:function(){var t=Object(k.a)(y.a.mark((function t(){var n,r,a,i,s,c,o=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:{},r=new URL("/api/healthcheck",R),e&&(a=e.baseOptions),i=Object(w.a)(Object(w.a)({method:"GET"},a),n),s={},P(r,{},n.query),c=a&&a.headers?a.headers:{},i.headers=Object(w.a)(Object(w.a)(Object(w.a)({},s),c),n.headers),t.abrupt("return",{url:L(r),options:i});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),isAdmin:function(){var t=Object(k.a)(y.a.mark((function t(){var n,r,a,i,s,c,o=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:{},r=new URL("/api/is-admin",R),e&&(a=e.baseOptions),i=Object(w.a)(Object(w.a)({method:"GET"},a),n),s={},P(r,{},n.query),c=a&&a.headers?a.headers:{},i.headers=Object(w.a)(Object(w.a)(Object(w.a)({},s),c),n.headers),t.abrupt("return",{url:L(r),options:i});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),listImages:function(){var t=Object(k.a)(y.a.mark((function t(n,r,a){var i,s,c,o,u,l,h,d=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=d.length>3&&void 0!==d[3]?d[3]:{},s=new URL("/api/images",R),e&&(c=e.baseOptions),o=Object(w.a)(Object(w.a)({method:"GET"},c),i),u={},l={},void 0!==n&&(l.cursor=n),void 0!==r&&(l.limit=r),void 0!==a&&(l.direction=a),P(s,l,i.query),h=c&&c.headers?c.headers:{},o.headers=Object(w.a)(Object(w.a)(Object(w.a)({},u),h),i.headers),t.abrupt("return",{url:L(s),options:o});case 14:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),listSuggestionSeeds:function(){var t=Object(k.a)(y.a.mark((function t(){var n,r,a,i,s,c,o=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:{},r=new URL("/api/suggestion-seeds",R),e&&(a=e.baseOptions),i=Object(w.a)(Object(w.a)({method:"GET"},a),n),s={},P(r,{},n.query),c=a&&a.headers?a.headers:{},i.headers=Object(w.a)(Object(w.a)(Object(w.a)({},s),c),n.headers),t.abrupt("return",{url:L(r),options:i});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),listSuggestionsJobs:function(){var t=Object(k.a)(y.a.mark((function t(){var n,r,a,i,s,c,o=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:{},r=new URL("/api/suggestions-jobs",R),e&&(a=e.baseOptions),i=Object(w.a)(Object(w.a)({method:"GET"},a),n),s={},P(r,{},n.query),c=a&&a.headers?a.headers:{},i.headers=Object(w.a)(Object(w.a)(Object(w.a)({},s),c),n.headers),t.abrupt("return",{url:L(r),options:i});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),login:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},a=new URL("/api/auth/login",R),e&&(i=e.baseOptions),s=Object(w.a)(Object(w.a)({method:"POST"},i),r),o={},(c={})["Content-Type"]="application/json",P(a,o,r.query),u=i&&i.headers?i.headers:{},s.headers=Object(w.a)(Object(w.a)(Object(w.a)({},c),u),r.headers),s.data=B(n,s,e),t.abrupt("return",{url:L(a),options:s});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),processImage:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},a=new URL("/api/process-image",R),e&&(i=e.baseOptions),s=Object(w.a)(Object(w.a)({method:"PUT"},i),r),o={},(c={})["Content-Type"]="application/json",P(a,o,r.query),u=i&&i.headers?i.headers:{},s.headers=Object(w.a)(Object(w.a)(Object(w.a)({},c),u),r.headers),s.data=B(n,s,e),t.abrupt("return",{url:L(a),options:s});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),processSuggestionsJob:function(){var t=Object(k.a)(y.a.mark((function t(){var n,r,a,i,s,c,o=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:{},r=new URL("/api/process-suggestion-job",R),e&&(a=e.baseOptions),i=Object(w.a)(Object(w.a)({method:"POST"},a),n),s={},P(r,{},n.query),c=a&&a.headers?a.headers:{},i.headers=Object(w.a)(Object(w.a)(Object(w.a)({},s),c),n.headers),t.abrupt("return",{url:L(r),options:i});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),processSvgJob:function(){var t=Object(k.a)(y.a.mark((function t(){var n,r,a,i,s,c,o=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:{},r=new URL("/api/process-svg-job",R),e&&(a=e.baseOptions),i=Object(w.a)(Object(w.a)({method:"POST"},a),n),s={},P(r,{},n.query),c=a&&a.headers?a.headers:{},i.headers=Object(w.a)(Object(w.a)(Object(w.a)({},s),c),n.headers),t.abrupt("return",{url:L(r),options:i});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),processWorkflow:function(){var t=Object(k.a)(y.a.mark((function t(){var n,r,a,i,s,c,o=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:{},r=new URL("/api/process-workflow",R),e&&(a=e.baseOptions),i=Object(w.a)(Object(w.a)({method:"PUT"},a),n),s={},P(r,{},n.query),c=a&&a.headers?a.headers:{},i.headers=Object(w.a)(Object(w.a)(Object(w.a)({},s),c),n.headers),t.abrupt("return",{url:L(r),options:i});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),refresh:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},a=new URL("/api/auth/refresh",R),e&&(i=e.baseOptions),s=Object(w.a)(Object(w.a)({method:"POST"},i),r),o={},(c={})["Content-Type"]="application/json",P(a,o,r.query),u=i&&i.headers?i.headers:{},s.headers=Object(w.a)(Object(w.a)(Object(w.a)({},c),u),r.headers),s.data=B(n,s,e),t.abrupt("return",{url:L(a),options:s});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),updateImage:function(){var t=Object(k.a)(y.a.mark((function t(n,r){var a,i,s,c,o,u,l,h,d=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=d.length>2&&void 0!==d[2]?d[2]:{},M("updateImage","id",n),i="/api/images/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),s=new URL(i,R),e&&(c=e.baseOptions),o=Object(w.a)(Object(w.a)({method:"PATCH"},c),a),l={},(u={})["Content-Type"]="application/json",P(s,l,a.query),h=c&&c.headers?c.headers:{},o.headers=Object(w.a)(Object(w.a)(Object(w.a)({},u),h),a.headers),o.data=B(r,o,e),t.abrupt("return",{url:L(s),options:o});case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),updateSuggestionSeed:function(){var t=Object(k.a)(y.a.mark((function t(n,r){var a,i,s,c,o,u,l,h,d=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=d.length>2&&void 0!==d[2]?d[2]:{},M("updateSuggestionSeed","id",n),i="/api/suggestion-seeds/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),s=new URL(i,R),e&&(c=e.baseOptions),o=Object(w.a)(Object(w.a)({method:"PATCH"},c),a),l={},(u={})["Content-Type"]="application/json",P(s,l,a.query),h=c&&c.headers?c.headers:{},o.headers=Object(w.a)(Object(w.a)(Object(w.a)({},u),h),a.headers),o.data=B(r,o,e),t.abrupt("return",{url:L(s),options:o});case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),updateSuggestionsJob:function(){var t=Object(k.a)(y.a.mark((function t(n,r){var a,i,s,c,o,u,l,h,d=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=d.length>2&&void 0!==d[2]?d[2]:{},M("updateSuggestionsJob","id",n),i="/api/suggestions-jobs/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),s=new URL(i,R),e&&(c=e.baseOptions),o=Object(w.a)(Object(w.a)({method:"PATCH"},c),a),l={},(u={})["Content-Type"]="application/json",P(s,l,a.query),h=c&&c.headers?c.headers:{},o.headers=Object(w.a)(Object(w.a)(Object(w.a)({},u),h),a.headers),o.data=B(r,o,e),t.abrupt("return",{url:L(s),options:o});case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),updateSvgJob:function(){var t=Object(k.a)(y.a.mark((function t(n,r){var a,i,s,c,o,u,l,h,d=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=d.length>2&&void 0!==d[2]?d[2]:{},M("updateSvgJob","id",n),i="/api/svg-jobs/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),s=new URL(i,R),e&&(c=e.baseOptions),o=Object(w.a)(Object(w.a)({method:"PATCH"},c),a),l={},(u={})["Content-Type"]="application/json",P(s,l,a.query),h=c&&c.headers?c.headers:{},o.headers=Object(w.a)(Object(w.a)(Object(w.a)({},u),h),a.headers),o.data=B(r,o,e),t.abrupt("return",{url:L(s),options:o});case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),updateVideoData:function(){var t=Object(k.a)(y.a.mark((function t(n,r){var a,i,s,c,o,u,l,h,d=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=d.length>2&&void 0!==d[2]?d[2]:{},M("updateVideoData","id",n),i="/api/images/{id}.mp4".replace("{".concat("id","}"),encodeURIComponent(String(n))),s=new URL(i,R),e&&(c=e.baseOptions),o=Object(w.a)(Object(w.a)({method:"PUT"},c),a),l={},(u={})["Content-Type"]="video/mp4",P(s,l,a.query),h=c&&c.headers?c.headers:{},o.headers=Object(w.a)(Object(w.a)(Object(w.a)({},u),h),a.headers),o.data=B(r,o,e),t.abrupt("return",{url:L(s),options:o});case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),updateWorkflow:function(){var t=Object(k.a)(y.a.mark((function t(n,r){var a,i,s,c,o,u,l,h,d=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=d.length>2&&void 0!==d[2]?d[2]:{},M("updateWorkflow","workflowId",n),i="/api/workflows/{workflow_id}".replace("{".concat("workflow_id","}"),encodeURIComponent(String(n))),s=new URL(i,R),e&&(c=e.baseOptions),o=Object(w.a)(Object(w.a)({method:"PUT"},c),a),l={},(u={})["Content-Type"]="application/json",P(s,l,a.query),h=c&&c.headers?c.headers:{},o.headers=Object(w.a)(Object(w.a)(Object(w.a)({},u),h),a.headers),o.data=B(r,o,e),t.abrupt("return",{url:L(s),options:o});case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),verify:function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,i,s,c,o,u,l=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},a=new URL("/api/auth/verify",R),e&&(i=e.baseOptions),s=Object(w.a)(Object(w.a)({method:"POST"},i),r),o={},(c={})["Content-Type"]="application/json",P(a,o,r.query),u=i&&i.headers?i.headers:{},s.headers=Object(w.a)(Object(w.a)(Object(w.a)({},c),u),r.headers),s.data=B(n,s,e),t.abrupt("return",{url:L(a),options:s});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}(e);return{createImage:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.createImage(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},createInviteCode:function(n){return Object(k.a)(y.a.mark((function r(){var a;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.createInviteCode(n);case 2:return a=r.sent,r.abrupt("return",T(a,S.a,U,e));case 4:case"end":return r.stop()}}),r)})))()},createServiceAccount:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.createServiceAccount(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},createSuggestionSeed:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.createSuggestionSeed(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},createSuggestionsJob:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.createSuggestionsJob(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},createSvgJob:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.createSvgJob(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},createWorkflow:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.createWorkflow(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},createWorkflowEvent:function(n,r,a){return Object(k.a)(y.a.mark((function i(){var s;return y.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.createWorkflowEvent(n,r,a);case 2:return s=i.sent,i.abrupt("return",T(s,S.a,U,e));case 4:case"end":return i.stop()}}),i)})))()},deleteImage:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.deleteImage(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},deleteSuggestionSeed:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.deleteSuggestionSeed(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},deleteSuggestionsJob:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.deleteSuggestionsJob(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},deleteSvgJob:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.deleteSvgJob(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},deleteWorkflow:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.deleteWorkflow(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},getAssetsUrl:function(n){return Object(k.a)(y.a.mark((function r(){var a;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.getAssetsUrl(n);case 2:return a=r.sent,r.abrupt("return",T(a,S.a,U,e));case 4:case"end":return r.stop()}}),r)})))()},getFeatures:function(n){return Object(k.a)(y.a.mark((function r(){var a;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.getFeatures(n);case 2:return a=r.sent,r.abrupt("return",T(a,S.a,U,e));case 4:case"end":return r.stop()}}),r)})))()},getImage:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getImage(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},getImageData:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getImageData(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},getMaskData:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getMaskData(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},getNpyData:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getNpyData(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},getSuggestionSeed:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSuggestionSeed(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},getSuggestionsJob:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSuggestionsJob(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},getSvgJob:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSvgJob(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},getSvgJobResult:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSvgJobResult(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},getThumbnailData:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getThumbnailData(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},getVideoData:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getVideoData(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},getWorkflow:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getWorkflow(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},getWorkflowEvents:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getWorkflowEvents(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},getWorkflows:function(n){return Object(k.a)(y.a.mark((function r(){var a;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.getWorkflows(n);case 2:return a=r.sent,r.abrupt("return",T(a,S.a,U,e));case 4:case"end":return r.stop()}}),r)})))()},healthcheck:function(n){return Object(k.a)(y.a.mark((function r(){var a;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.healthcheck(n);case 2:return a=r.sent,r.abrupt("return",T(a,S.a,U,e));case 4:case"end":return r.stop()}}),r)})))()},isAdmin:function(n){return Object(k.a)(y.a.mark((function r(){var a;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.isAdmin(n);case 2:return a=r.sent,r.abrupt("return",T(a,S.a,U,e));case 4:case"end":return r.stop()}}),r)})))()},listImages:function(n,r,a,i){return Object(k.a)(y.a.mark((function s(){var c;return y.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.listImages(n,r,a,i);case 2:return c=s.sent,s.abrupt("return",T(c,S.a,U,e));case 4:case"end":return s.stop()}}),s)})))()},listSuggestionSeeds:function(n){return Object(k.a)(y.a.mark((function r(){var a;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.listSuggestionSeeds(n);case 2:return a=r.sent,r.abrupt("return",T(a,S.a,U,e));case 4:case"end":return r.stop()}}),r)})))()},listSuggestionsJobs:function(n){return Object(k.a)(y.a.mark((function r(){var a;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.listSuggestionsJobs(n);case 2:return a=r.sent,r.abrupt("return",T(a,S.a,U,e));case 4:case"end":return r.stop()}}),r)})))()},login:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.login(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},processImage:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.processImage(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},processSuggestionsJob:function(n){return Object(k.a)(y.a.mark((function r(){var a;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.processSuggestionsJob(n);case 2:return a=r.sent,r.abrupt("return",T(a,S.a,U,e));case 4:case"end":return r.stop()}}),r)})))()},processSvgJob:function(n){return Object(k.a)(y.a.mark((function r(){var a;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.processSvgJob(n);case 2:return a=r.sent,r.abrupt("return",T(a,S.a,U,e));case 4:case"end":return r.stop()}}),r)})))()},processWorkflow:function(n){return Object(k.a)(y.a.mark((function r(){var a;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.processWorkflow(n);case 2:return a=r.sent,r.abrupt("return",T(a,S.a,U,e));case 4:case"end":return r.stop()}}),r)})))()},refresh:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.refresh(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()},updateImage:function(n,r,a){return Object(k.a)(y.a.mark((function i(){var s;return y.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.updateImage(n,r,a);case 2:return s=i.sent,i.abrupt("return",T(s,S.a,U,e));case 4:case"end":return i.stop()}}),i)})))()},updateSuggestionSeed:function(n,r,a){return Object(k.a)(y.a.mark((function i(){var s;return y.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.updateSuggestionSeed(n,r,a);case 2:return s=i.sent,i.abrupt("return",T(s,S.a,U,e));case 4:case"end":return i.stop()}}),i)})))()},updateSuggestionsJob:function(n,r,a){return Object(k.a)(y.a.mark((function i(){var s;return y.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.updateSuggestionsJob(n,r,a);case 2:return s=i.sent,i.abrupt("return",T(s,S.a,U,e));case 4:case"end":return i.stop()}}),i)})))()},updateSvgJob:function(n,r,a){return Object(k.a)(y.a.mark((function i(){var s;return y.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.updateSvgJob(n,r,a);case 2:return s=i.sent,i.abrupt("return",T(s,S.a,U,e));case 4:case"end":return i.stop()}}),i)})))()},updateVideoData:function(n,r,a){return Object(k.a)(y.a.mark((function i(){var s;return y.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.updateVideoData(n,r,a);case 2:return s=i.sent,i.abrupt("return",T(s,S.a,U,e));case 4:case"end":return i.stop()}}),i)})))()},updateWorkflow:function(n,r,a){return Object(k.a)(y.a.mark((function i(){var s;return y.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.updateWorkflow(n,r,a);case 2:return s=i.sent,i.abrupt("return",T(s,S.a,U,e));case 4:case"end":return i.stop()}}),i)})))()},verify:function(n,r){return Object(k.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.verify(n,r);case 2:return i=a.sent,a.abrupt("return",T(i,S.a,U,e));case 4:case"end":return a.stop()}}),a)})))()}}},W=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"createImage",value:function(e,t){var n=this;return D(this.configuration).createImage(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"createInviteCode",value:function(e){var t=this;return D(this.configuration).createInviteCode(e).then((function(e){return e(t.axios,t.basePath)}))}},{key:"createServiceAccount",value:function(e,t){var n=this;return D(this.configuration).createServiceAccount(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"createSuggestionSeed",value:function(e,t){var n=this;return D(this.configuration).createSuggestionSeed(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"createSuggestionsJob",value:function(e,t){var n=this;return D(this.configuration).createSuggestionsJob(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"createSvgJob",value:function(e,t){var n=this;return D(this.configuration).createSvgJob(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"createWorkflow",value:function(e,t){var n=this;return D(this.configuration).createWorkflow(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"createWorkflowEvent",value:function(e,t,n){var r=this;return D(this.configuration).createWorkflowEvent(e,t,n).then((function(e){return e(r.axios,r.basePath)}))}},{key:"deleteImage",value:function(e,t){var n=this;return D(this.configuration).deleteImage(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"deleteSuggestionSeed",value:function(e,t){var n=this;return D(this.configuration).deleteSuggestionSeed(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"deleteSuggestionsJob",value:function(e,t){var n=this;return D(this.configuration).deleteSuggestionsJob(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"deleteSvgJob",value:function(e,t){var n=this;return D(this.configuration).deleteSvgJob(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"deleteWorkflow",value:function(e,t){var n=this;return D(this.configuration).deleteWorkflow(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getAssetsUrl",value:function(e){var t=this;return D(this.configuration).getAssetsUrl(e).then((function(e){return e(t.axios,t.basePath)}))}},{key:"getFeatures",value:function(e){var t=this;return D(this.configuration).getFeatures(e).then((function(e){return e(t.axios,t.basePath)}))}},{key:"getImage",value:function(e,t){var n=this;return D(this.configuration).getImage(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getImageData",value:function(e,t){var n=this;return D(this.configuration).getImageData(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getMaskData",value:function(e,t){var n=this;return D(this.configuration).getMaskData(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getNpyData",value:function(e,t){var n=this;return D(this.configuration).getNpyData(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getSuggestionSeed",value:function(e,t){var n=this;return D(this.configuration).getSuggestionSeed(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getSuggestionsJob",value:function(e,t){var n=this;return D(this.configuration).getSuggestionsJob(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getSvgJob",value:function(e,t){var n=this;return D(this.configuration).getSvgJob(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getSvgJobResult",value:function(e,t){var n=this;return D(this.configuration).getSvgJobResult(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getThumbnailData",value:function(e,t){var n=this;return D(this.configuration).getThumbnailData(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getVideoData",value:function(e,t){var n=this;return D(this.configuration).getVideoData(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getWorkflow",value:function(e,t){var n=this;return D(this.configuration).getWorkflow(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getWorkflowEvents",value:function(e,t){var n=this;return D(this.configuration).getWorkflowEvents(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getWorkflows",value:function(e){var t=this;return D(this.configuration).getWorkflows(e).then((function(e){return e(t.axios,t.basePath)}))}},{key:"healthcheck",value:function(e){var t=this;return D(this.configuration).healthcheck(e).then((function(e){return e(t.axios,t.basePath)}))}},{key:"isAdmin",value:function(e){var t=this;return D(this.configuration).isAdmin(e).then((function(e){return e(t.axios,t.basePath)}))}},{key:"listImages",value:function(e,t,n,r){var a=this;return D(this.configuration).listImages(e,t,n,r).then((function(e){return e(a.axios,a.basePath)}))}},{key:"listSuggestionSeeds",value:function(e){var t=this;return D(this.configuration).listSuggestionSeeds(e).then((function(e){return e(t.axios,t.basePath)}))}},{key:"listSuggestionsJobs",value:function(e){var t=this;return D(this.configuration).listSuggestionsJobs(e).then((function(e){return e(t.axios,t.basePath)}))}},{key:"login",value:function(e,t){var n=this;return D(this.configuration).login(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"processImage",value:function(e,t){var n=this;return D(this.configuration).processImage(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"processSuggestionsJob",value:function(e){var t=this;return D(this.configuration).processSuggestionsJob(e).then((function(e){return e(t.axios,t.basePath)}))}},{key:"processSvgJob",value:function(e){var t=this;return D(this.configuration).processSvgJob(e).then((function(e){return e(t.axios,t.basePath)}))}},{key:"processWorkflow",value:function(e){var t=this;return D(this.configuration).processWorkflow(e).then((function(e){return e(t.axios,t.basePath)}))}},{key:"refresh",value:function(e,t){var n=this;return D(this.configuration).refresh(e,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"updateImage",value:function(e,t,n){var r=this;return D(this.configuration).updateImage(e,t,n).then((function(e){return e(r.axios,r.basePath)}))}},{key:"updateSuggestionSeed",value:function(e,t,n){var r=this;return D(this.configuration).updateSuggestionSeed(e,t,n).then((function(e){return e(r.axios,r.basePath)}))}},{key:"updateSuggestionsJob",value:function(e,t,n){var r=this;return D(this.configuration).updateSuggestionsJob(e,t,n).then((function(e){return e(r.axios,r.basePath)}))}},{key:"updateSvgJob",value:function(e,t,n){var r=this;return D(this.configuration).updateSvgJob(e,t,n).then((function(e){return e(r.axios,r.basePath)}))}},{key:"updateVideoData",value:function(e,t,n){var r=this;return D(this.configuration).updateVideoData(e,t,n).then((function(e){return e(r.axios,r.basePath)}))}},{key:"updateWorkflow",value:function(e,t,n){var r=this;return D(this.configuration).updateWorkflow(e,t,n).then((function(e){return e(r.axios,r.basePath)}))}},{key:"verify",value:function(e,t){var n=this;return D(this.configuration).verify(e,t).then((function(e){return e(n.axios,n.basePath)}))}}]),n}(I)},178:function(e,t,n){},179:function(e,t,n){},189:function(e,t){},195:function(e,t,n){},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(14),a=n(17),i=function(){function e(t){Object(r.a)(this,e),this.name=t,this.saveListener=function(){}}return Object(a.a)(e,[{key:"getArgs",value:function(){return JSON.parse(localStorage.getItem("tool_args_".concat(this.name))||"{}")}},{key:"updateArgs",value:function(e){localStorage.setItem("tool_args_".concat(this.name),JSON.stringify(e))}},{key:"onMouseDown",value:function(e){}},{key:"onMouseMove",value:function(e){}},{key:"onMouseUp",value:function(e){}},{key:"onMouseLeave",value:function(e){}},{key:"onKeyDown",value:function(e){}},{key:"onKeyUp",value:function(e){}},{key:"onWheel",value:function(e){}},{key:"destroy",value:function(){return!0}},{key:"onShowSelectionControls",value:function(e){}},{key:"select",value:function(e){}},{key:"onSaveImage",value:function(e){this.saveListener=e}}]),e}()},313:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(34),s=n.n(i),c=(n(157),n(2)),o=n.n(c),u=n(4),l=n(7),h=n(8),d=n.n(h),f=n(47),p=n(12),b=(n(178),n(179),n(16));var g=n(137),v=n.n(g),j=n(1),m=function(e){var t=Object(r.useState)(""),n=Object(l.a)(t,2),a=n[0],i=n[1],s=Object(r.useState)(!1),c=Object(l.a)(s,2),h=c[0],d=c[1],f=Object(r.useState)(""),p=Object(l.a)(f,2),b=p[0],g=p[1],m=Object(r.useState)(""),O=Object(l.a)(m,2),x=O[0],y=O[1],w=window.location.search,k=v.a.parse(w.substring(1)).invite_code,N=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(y(""),a.match(/^[^@]+@[^@]+\.[^@]+$/)){t.next=4;break}return y("Invalid email address"),t.abrupt("return");case 4:return t.prev=4,t.next=7,e.client.login({email:a,invite_code:k});case 7:d(!0),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),console.error(t.t0),y("Could not login");case 14:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(){return t.apply(this,arguments)}}(),S=function(){var t=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(""),t.prev=1,t.next=4,e.client.verify({email:a,code:b});case 4:n=t.sent,e.onLogin(n.data),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0),y("Failed to verify code");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"row",style:{height:"100vh",marginLeft:"0px",marginRight:"0px"},children:[Object(j.jsx)("div",{className:"col-md-6 login-splash",children:Object(j.jsx)("img",{className:"center-cropped",src:"/images/scifi-dreamland.jpg"})}),Object(j.jsxs)("div",{className:"col-md-6",children:[Object(j.jsx)("div",{style:{fontWeight:500,fontSize:"48px",marginTop:"241px"},children:"AiBrush"}),x&&Object(j.jsx)("p",{className:"text-danger",children:x}),x&&Object(j.jsxs)("p",{className:"text-info",children:["If you don't have an account yet, request one by sending an email to ",Object(j.jsx)("a",{href:"mailto:admin@aibrush.art",children:"admin@aibrush.art"})]}),Object(j.jsxs)("div",{style:{marginLeft:"10%",marginRight:"10%",marginTop:"88px",textAlign:"left"},children:[h&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"verifyCode",children:"Verify Code"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"verifyCode",placeholder:"Verification Code",value:b,onChange:function(e){return g(e.target.value)}})]}),Object(j.jsx)("button",{className:"btn btn-secondary",onClick:function(){return d(!1)},children:"Cancel"}),"\xa0",Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(e){e.preventDefault(),S()},children:"Verify"})]}),!h&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"email",children:"Email address"}),Object(j.jsx)("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:a,onChange:function(e){return i(e.target.value)}})]}),Object(j.jsx)("button",{type:"button",className:"btn btn-primary",style:{float:"right"},onClick:function(e){e.preventDefault(),N()},children:"Login"})]})]})]})]})})},O=function(e){var t=e.onCredentialsRefreshed,n=e.api,a=e.credentials;return Object(r.useEffect)((function(){var e=setInterval((function(){a&&a.refreshToken&&n.refresh({refreshToken:a.refreshToken}).then((function(e){t(e.data)}))}),3e5);return function(){clearInterval(e)}}),[a,n,t]),Object(j.jsx)("div",{})},x=function(e){var t=e.api,n=Object(r.useState)(!0),a=Object(l.a)(n,2),i=a[0],s=a[1];return Object(r.useEffect)((function(){var e=setInterval((function(){t.healthcheck().then((function(){return s(!0)})).catch((function(){return s(!1)}))}),5e3);return function(){return clearInterval(e)}}),[t]),Object(j.jsx)("div",{className:"alert alert-danger",role:"alert",style:{display:i?"none":"block"},children:Object(j.jsx)("strong",{children:"Service is unavailable"})})},y=n(63),w=function(e){var t=e.api,n=Object(r.useState)(b.c.Private),a=Object(l.a)(n,2),i=a[0],s=a[1],c=Object(r.useState)(!1),h=Object(l.a)(c,2),d=h[0],f=h[1],p=function(){var e=Object(u.a)(o.a.mark((function e(){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.createServiceAccount({type:i});case 2:n=e.sent,r=new Blob([JSON.stringify(n.data)],{type:"application/json"}),Object(y.saveAs)(r,"credentials.json");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){t.isAdmin().then((function(e){return f(!!e.data.is_admin)}))}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("h2",{children:"Worker Config"})})}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsxs)("p",{children:["This page allows you to download a worker config file needed to access the AIBrush api. This file can be used to run a worker on a local or cloud machine, or a Colab notebook. Images worker requires an NVidia GPU with at least 12GB of VRAM, but at least 16GB is recommended. Suggestions worker requires an NVidia GPU with at least 16GB of VRAM. See the ",Object(j.jsx)("a",{href:"https://github.com/wolfgangmeyers/aibrush-2/tree/main/worker#readme",target:"_blank",children:"worker readme"})," for details on how to set up a worker process."]})})}),Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-lg-6 offset-lg-3",children:[Object(j.jsx)("hr",{}),Object(j.jsx)("p",{children:"Here is a link to a Google Colab notebook that can be used as a worker node:"}),Object(j.jsxs)("a",{className:"btn btn-primary top-button",href:"https://colab.research.google.com/drive/1cW3vVjdeI19o7a9miMu47J5EDyHfZT20#scrollTo=Ed1iT6_JK0Mo",target:"_blank",children:[Object(j.jsx)("i",{className:"fab fa-google"}),"\xa0 Google Colab Notebook"]})]})})]}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-lg-6 offset-lg-3",children:Object(j.jsxs)("form",{children:[d&&Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"type",children:"Type"}),Object(j.jsxs)("select",{className:"form-control",id:"type",value:i,onChange:function(e){return s(e.target.value)},children:[Object(j.jsx)("option",{value:"public",children:"Public"}),Object(j.jsx)("option",{value:"private",children:"Private"})]})]}),Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(){return p()},children:"Download"})]})})})]})},k=n(24),N=function(e){var t=e.api,n=Object(r.useState)([]),a=Object(l.a)(n,2),i=a[0],s=a[1],c=function(){var e=Object(u.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.createInviteCode();case 2:n=e.sent,s([].concat(Object(k.a)(i),["/?invite_code=".concat(n.data.id)]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("h1",{children:"Admin features"})})}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("div",{className:"spacer"})})}),i.length>0&&Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("p",{children:"Right click to copy invite links"})})}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"offset-lg-3 col-lg-6 col-sm-12",children:Object(j.jsx)("div",{className:"btn-group-vertical",children:i.map((function(e,t){return Object(j.jsxs)("a",{href:e,className:"btn btn-primary",children:[Object(j.jsx)("i",{className:"fas fa-link"}),"\xa0 Invite Link"]},t)}))})})}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("div",{className:"spacer"})})}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("button",{className:"btn btn-primary",onClick:c,children:"Generate Link"})})})]})},S=n(138),_=n(44),E=n.n(_),U=n(148),I=n.n(U),C=function(e){var t=e.assetsUrl,n=e.image,a=e.onClick,i="".concat(t,"/").concat(n.id,".thumbnail.jpg?updated_at=").concat(n.updated_at),s=Object(r.useState)(""),c=Object(l.a)(s,2),o=c[0],u=c[1],h=Object(r.useState)(!1),d=Object(l.a)(h,2),f=d[0],p=d[1];Object(r.useEffect)((function(){if(E()().diff(E()(n.updated_at),"minutes")<1){u("");var e=setTimeout((function(){u("&retry")}),3e3);return function(){return clearTimeout(e)}}}),[n.id,n.updated_at]);var g=n.label;return""===n.label&&(g=n.phrases[0]),Object(j.jsxs)("div",{onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},style:{backgroundImage:"url(".concat(i).concat(o,"), url(/images/default.jpg)"),backgroundSize:"contain",width:"128px",height:"128px",margin:"8px",float:"left",cursor:"pointer",filter:n.nsfw?"blur(8px)":void 0},onClick:function(){return a&&a(n)},children:[f&&Object(j.jsx)("div",{style:{background:"rgba(255, 255, 255, 0.5)",color:"black",width:"100%",height:"100%",lineHeight:"1"},children:g}),!f&&n.status===b.d.Pending&&Object(j.jsx)("div",{style:{background:"rgba(255, 255, 255, 0.3)",color:"#555",width:"100%",height:"100%",fontSize:"80px"},children:Object(j.jsx)("i",{style:{marginTop:"20px"},className:"fa fa-hourglass-half"})}),!f&&n.status===b.d.Processing&&Object(j.jsx)("div",{style:{background:"rgba(255, 255, 255, 0.3)",color:"#555",width:"100%",height:"100%",fontSize:"80px"},children:Object(j.jsx)("i",{style:{marginTop:"20px"},className:"fa fa-cog fa-spin"})})]})},R=n(49),M=n(149),P=n(317),B=n(37),L=function(e){var t=e.assetsUrl,n=e.image,a=e.onClose,i=e.onDelete,s=e.onFork,c=e.onEdit,o=e.onUpscale,u=e.onNSFW,h=Object(r.useRef)(null),d="".concat(t,"/").concat(n.id,".image.jpg?updated_at=").concat(n.updated_at),f=n.score;""!==n.negative_phrases.join("").trim()&&0!=n.negative_score&&(f-=n.negative_score);var p=Object(r.useState)(!1),g=Object(l.a)(p,2),v=g[0],m=g[1];Object(r.useEffect)((function(){h.current&&(h.current.onerror=function(){h.current&&(h.current.src="/images/default.jpg")})}),[h]);var O=n.label;O||(O=n.phrases[0]);var x=Object(B.a)(n.width,n.height);return Object(j.jsxs)(P.a,{show:!0,onHide:a,size:"xl",children:[Object(j.jsx)(P.a.Header,{closeButton:!0,children:Object(j.jsx)(P.a.Title,{children:O})}),Object(j.jsxs)(P.a.Body,{children:[Object(j.jsx)("img",{ref:h,style:{maxWidth:"100%",maxHeight:"1024px",display:"block",marginLeft:"auto",marginRight:"auto",filter:n.nsfw&&!v?"blur(30px)":""},id:"image-popup-".concat(n.id),src:d,alt:n.label}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-lg-12"})}),Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-lg-12",children:[Object(j.jsxs)("div",{className:"image-popup-controls",style:{marginTop:"40px"},children:[function(e){var t=e.charAt(0).toUpperCase()+e.slice(1),n="fa fa-question-circle";switch(e){case b.d.Pending:n="fas fa-hourglass-half";break;case b.d.Processing:n="fas fa-cog fa-spin";break;case b.d.Completed:n="fas fa-check";break;case b.d.Error:n="fas fa-exclamation-circle"}return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("span",{style:{fontSize:"24px"},children:[Object(j.jsx)("i",{className:"".concat(n," status-badge status-badge-").concat(e),style:{fontSize:"10px",position:"relative",top:"-1px"}}),"\xa0",t]})})}(n.status),Object(j.jsxs)("div",{style:{float:"right"},children:[s&&(n.status===b.d.Saved||n.status===b.d.Completed)&&Object(j.jsxs)("button",{className:"btn btn-secondary btn-sm image-popup-button",onClick:function(){return s(n)},style:{marginRight:"5px"},children:[Object(j.jsx)("i",{className:"fas fa-code-branch"}),"\xa0VARIATIONS"]}),i&&Object(j.jsxs)("button",{className:"btn btn-danger btn-sm image-popup-delete-button",onClick:function(){return i&&i(n)},style:{marginRight:"5px"},children:[Object(j.jsx)("i",{className:"fas fa-trash-alt"}),"\xa0DELETE"]}),c&&Object(j.jsxs)("button",{className:"btn btn-primary btn-sm image-popup-button",onClick:function(){return c&&c(n)},style:{marginRight:"5px"},children:[Object(j.jsx)("i",{className:"fas fa-edit"}),"\xa0EDIT"]}),o&&x<2&&Object(j.jsxs)("button",{className:"btn btn-primary btn-sm image-popup-button",onClick:function(){return o&&o(n)},style:{marginRight:"5px"},children:[Object(j.jsx)("i",{className:"fas fa-search-plus"}),"\xa0UPSCALE"]}),n.nsfw&&Object(j.jsxs)("button",{className:"btn btn-primary btn-sm image-popup-button",onClick:function(){return m(!v)},style:{marginRight:"5px"},children:[Object(j.jsx)("i",{className:"fas fa-eye"}),"\xa0",v?"HIDE":"SHOW"]})]})]}),Object(j.jsxs)("div",{className:"image-popup-controls",style:{marginTop:"28px",marginBottom:"85px"},children:[Object(j.jsxs)("div",{children:["Similarity to prompt: ",(200*f).toFixed(2),"%"]}),Object(j.jsxs)("div",{children:["Image dimensions: ",n.width," x ",n.height]}),u&&Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"checkbox",checked:n.nsfw,onChange:function(){return u(n,!n.nsfw)}}),"\xa0",n.nsfw?"Contains NSFW content":"No NSFW content"]})]})]})})]})]})},T=function(e){var t=e.api,n=e.assetsUrl,a=Object(r.useState)(!1),i=Object(l.a)(a,2),s=i[0],c=i[1],h=Object(r.useState)(null),d=Object(l.a)(h,2),f=d[0],g=d[1],v=Object(r.useState)(null),m=Object(l.a)(v,2),O=m[0],x=m[1],y=Object(r.useState)([]),w=Object(l.a)(y,2),N=w[0],S=w[1],_=Object(r.useState)(null),U=Object(l.a)(_,2),P=(U[0],U[1]),B=Object(r.useState)(!0),T=Object(l.a)(B,2),D=T[0],W=T[1],A=Object(p.g)().id,J=Object(p.f)();Object(r.useEffect)((function(){if(A){var e=N.find((function(e){return e.id===A}));e&&g(e),t.getImage(A).then((function(e){g(e.data)}))}else g(null)}),[A]);var z=function(){var e=Object(u.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),x(null),P(null),window.scrollTo(0,0),e.prev=4,e.next=7,t.createImage(n);case 7:r=e.sent,S((function(e){var t=(r.data.images||[]).filter((function(t){return!e.find((function(e){return e.id===t.id}))}));return[].concat(Object(k.a)(t),Object(k.a)(e)).sort(G)})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0),P("Error creating image");case 15:return e.prev=15,c(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,11,15,18]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(u.a)(o.a.mark((function e(n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),x(null),P(null),window.scrollTo(0,0),e.prev=4,e.next=7,t.createImage(n);case 7:(r=e.sent).data.images&&(a=r.data.images[0],J.push("/image-editor/".concat(a.id))),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0),P("Error creating image");case 15:return e.prev=15,c(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,11,15,18]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(u.a)(o.a.mark((function e(n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),P(null),window.scrollTo(0,0),e.prev=3,(r=Object(R.b)()).parent=n.id,r.label=n.label,r.phrases=n.phrases,r.negative_phrases=n.negative_phrases,r.width=2*n.width,r.height=2*n.height,r.model="swinir",r.count=1,e.next=15,t.createImage(r);case 15:a=e.sent,S((function(e){var t=(a.data.images||[]).filter((function(t){return!e.find((function(e){return e.id===t.id}))}));return[].concat(Object(k.a)(t),Object(k.a)(e)).sort(G)})),J.push("/"),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),console.error(e.t0),P("Error creating image");case 24:return e.prev=24,c(!1),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[3,20,24,27]])})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){t&&function(){var e=Object(u.a)(o.a.mark((function e(){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(null),e.prev=1,n=E()().add(1,"minutes").valueOf(),e.next=5,t.listImages(n,100,"desc");case 5:return(r=e.sent).data.images&&S(r.data.images.sort(G)),e.abrupt("return",0);case 10:e.prev=10,e.t0=e.catch(1),P("Could not load images"),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}()()}),[t]),Object(r.useEffect)((function(){if(t){var e=function(){var e=Object(u.a)(o.a.mark((function e(n){var r,a,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(null),r=n.reduce((function(e,t){return Math.max(e,t.updated_at)}),0),e.prev=2,e.next=5,t.listImages(r+1,100,"asc");case 5:return(a=e.sent).data.images&&(i=a.data.images.filter((function(e){return n.findIndex((function(t){return t.id===e.id}))<0})),s=a.data.images.filter((function(e){return n.findIndex((function(t){return t.id===e.id}))>=0})),S((function(e){return[].concat(Object(k.a)(e.map((function(e){var t=s.find((function(t){return t.id===e.id}));return t||e}))),Object(k.a)(i)).sort(G)}))),e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(2),P("Could not load images"),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),n=setInterval((function(){e(N)}),5e3);return function(){clearInterval(n)}}}),[t,N]),Object(r.useEffect)((function(){var e=N.map((function(e){return e.id})),t=new Set(e);e.length!==t.size&&S((function(t){return t.filter((function(t,n){return e.indexOf(t.id)===n})).sort(G)}))}),[N]);var F=function(e){return e.status===b.d.Pending||e.status===b.d.Processing},G=function(e,t){if(F(e)&&!F(t))return-1;if(!F(e)&&F(t))return 1;if(e.parent===t.parent&&e.phrases.join("|")==t.phrases.join("|")&&e.status!==b.d.Pending&&t.status!==b.d.Pending){var n=e.score,r=t.score;return""!==e.phrases.join("").trim()&&(n-=e.negative_score),""!==t.phrases.join("").trim()&&(r-=t.negative_score),n==r?t.updated_at-e.updated_at:r-n}return t.updated_at-e.updated_at},Y=function(){var e=Object(u.a)(o.a.mark((function e(){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=E()().valueOf(),N.forEach((function(e){n=Math.min(n,e.updated_at)})),e.next=4,t.listImages(n-1,100,"desc");case 4:(r=e.sent).data.images&&r.data.images.length>0?S((function(e){return[].concat(Object(k.a)(e),Object(k.a)(r.data.images||[])).sort(G)})):W(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(u.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.deleteImage(n.id);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0),P("Error deleting image");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(t),J.push("/"),window.scrollTo(0,0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J.push("/image-editor/".concat(t.id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(e){J.push("/images/".concat(e.id))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{style:{fontSize:"40px",textAlign:"left"},children:"Welcome to AiBrush"}),Object(j.jsx)(R.a,{assetsUrl:n,creating:s,onSubmit:z,onEdit:H,parent:O,onCancel:function(){return x(null),void window.scrollTo(0,0)}}),Object(j.jsx)("div",{className:"homepage-images",style:{marginTop:"48px"},children:Object(j.jsx)(M.a,{dataLength:N.length,next:Y,hasMore:D,loader:Object(j.jsx)("h4",{children:"Loading..."}),children:N.map((function(e){return Object(j.jsx)(C,{image:e,assetsUrl:n,onClick:K},e.id)}))})}),f&&Object(j.jsx)(L,{assetsUrl:n,image:f,onClose:function(){return J.push("/")},onDelete:function(e){X(e),S(N.filter((function(t){return t.id!==e.id}))),J.push("/")},onFork:function(e){V(e),J.push("/")},onEdit:function(e){Z(e)},onUpscale:function(e){q(e)},onNSFW:function(e,n){t.updateImage(e.id,{nsfw:n}).then((function(t){S((function(n){return n.map((function(n){return n.id===e.id?t.data:n}))})),g(t.data)}))}}),Object(j.jsx)(I.a,{})]})},D={apiUrl:""},W=d.a,A=new b.a(void 0,localStorage.getItem("apiUrl")||D.apiUrl,W);function J(e){e.accessToken&&(W.defaults.headers.common.Authorization="Bearer ".concat(e.accessToken))}var z=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)("/api/images"),s=Object(l.a)(i,2),c=s[0],h=s[1],d=Object(r.useState)(!1),b=Object(l.a)(d,2),g=b[0],v=b[1],y=Object(r.useState)(null),k=Object(l.a)(y,2),_=k[0],E=k[1],U=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("App.init"),A.getAssetsUrl().then((function(e){return h(e.data.assets_url)})),A.getFeatures().then((function(e){return E(e.data)})),!(t=localStorage.getItem("credentials"))){e.next=22;break}return e.prev=5,n=JSON.parse(t),e.next=9,A.refresh({refreshToken:n.refreshToken});case 9:return r=e.sent,a(r.data),localStorage.setItem("credentials",JSON.stringify(r.data)),J(r.data),e.next=15,A.isAdmin();case 15:i=e.sent,v(!!i.data.is_admin),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[5,19]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem("credentials",JSON.stringify(t)),a(t),J(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){U()}),[]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(O,{api:A,credentials:n,onCredentialsRefreshed:I}),Object(j.jsx)(x,{api:A}),Object(j.jsxs)(f.a,{children:[!n&&Object(j.jsx)(m,{httpClient:W,client:A,onLogin:I}),n&&Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-lg-12",children:n&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{className:"btn btn-primary top-button",onClick:function(){return a(null),localStorage.removeItem("credentials"),void(W.defaults.headers.common.Authorization=void 0)},children:Object(j.jsx)("i",{className:"fas fa-sign-out-alt"})}),Object(j.jsx)(f.b,{className:"btn btn-primary top-button",to:"/",children:Object(j.jsx)("i",{className:"fas fa-home"})}),Object(j.jsx)("a",{className:"btn btn-primary top-button",href:"https://github.com/wolfgangmeyers/aibrush-2",target:"_blank",children:Object(j.jsx)("i",{className:"fab fa-github"})})]})})}),Object(j.jsxs)(p.c,{children:[Object(j.jsx)(p.a,{path:"/",exact:!0,children:Object(j.jsx)(T,{api:A,assetsUrl:c})}),Object(j.jsx)(p.a,{path:"/images/:id",children:Object(j.jsx)(T,{api:A,assetsUrl:c})}),Object(j.jsx)(p.a,{path:"/image-editor/:id",children:Object(j.jsx)(S.a,{api:A,assetsUrl:c})}),Object(j.jsx)(p.a,{path:"/worker-config",children:Object(j.jsx)(w,{api:A})}),g&&Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(p.a,{path:"/admin",children:Object(j.jsx)(N,{api:A})})})]}),Object(j.jsx)("div",{className:"row",style:{marginTop:"100px",padding:"50px"},children:Object(j.jsxs)("div",{className:"col-lg-12",children:[_&&_.privacy_uri&&Object(j.jsx)("a",{href:_.privacy_uri,target:"_blank",children:"Privacy Policy"}),_&&_.terms_uri&&Object(j.jsx)("a",{href:_.terms_uri,target:"_blank",style:{marginLeft:"20px"},children:"Terms of Service"})]})})]})]})]})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,318)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),i(e),s(e)}))};s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(z,{})}),document.getElementById("root")),H()},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(14),a=n(17),i=function(){function e(t){Object(r.a)(this,e),this.renderer=t}return Object(a.a)(e,[{key:"onWheel",value:function(e){var t=this.renderer.getZoom(),n=this.renderer.getZoom(),r=this.renderer.getOffsetX(),a=this.renderer.getOffsetY(),i=this.translateMouseToCanvasCoordinates(e.offsetX,e.offsetY);e.deltaY<0?n+=.1*n:n-=.1*n,n=Math.max(.1,Math.min(n,8));var s=i.x- -r,c=i.y- -a;r-=s*(n/t)-s,a-=c*(n/t)-c,this.renderer.updateZoomAndOffset(n,r,a)}},{key:"onPan",value:function(e){var t=e.movementX,n=e.movementY,r=e.target.getBoundingClientRect();t=t/r.width*this.renderer.getWidth(),n=n/r.height*this.renderer.getHeight();var a=this.renderer.getZoom(),i=this.renderer.getOffsetX(),s=this.renderer.getOffsetY();i+=t/a,s+=n/a,this.renderer.updateZoomAndOffset(a,i,s)}},{key:"translateMouseToCanvasCoordinates",value:function(e,t,n,r,a){var i=e,s=t;n=n||this.renderer.getZoom(),r=r||this.renderer.getOffsetX(),a=a||this.renderer.getOffsetY(),i/=n,s/=n;var c=this.renderer.getCanvas().getBoundingClientRect();return i=i/c.width*this.renderer.getWidth(),s=s/c.height*this.renderer.getHeight(),{x:i-=r,y:s-=a}}},{key:"translateCanvasToMouseCoordinates",value:function(e,t,n,r,a){n=n||this.renderer.getZoom(),e+=r=r||this.renderer.getOffsetX(),t+=a=a||this.renderer.getOffsetY(),e*=n,t*=n;var i=this.renderer.getCanvas().getBoundingClientRect();return{x:e=e/this.renderer.getWidth()*i.width,y:t=t/this.renderer.getHeight()*i.height}}}]),e}()},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(11);function a(e,t){for(var n=0,a=0;a<r.b.length;a++){var i=r.b[a];if(e===i.width&&t===i.height)return n}e/=2,t/=2,n++;for(var s=0;s<r.b.length;s++){var c=r.b[s];if(e===c.width&&t===c.height)return n}e/=2,t/=2,n++;for(var o=0;o<r.b.length;o++){var u=r.b[o];if(e===u.width&&t===u.height)return n}return-1}},49:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return g}));var r=n(2),a=n.n(r),i=n(4),s=n(7),c=n(0),o=n(50),u=n(11),l=n(65),h=n.n(l),d=n(64),f=n(37),p=n(1);function b(){return{phrases:["a painting of a happy corgi wearing sunglasses"],negative_phrases:[],label:"",iterations:50,encoded_image:"",encoded_npy:"",encoded_mask:"",enable_video:!1,enable_zoom:!1,zoom_frequency:10,zoom_scale:.99,zoom_shift_x:0,zoom_shift_y:0,model:"stable_diffusion_text2im",glid_3_xl_clip_guidance:!1,glid_3_xl_clip_guidance_scale:150,glid_3_xl_skip_iterations:0,width:512,height:512,stable_diffusion_strength:.75,count:4}}var g=function(e){var t=e.parent,n=e.creating,r=e.assetsUrl,l=e.onSubmit,b=e.onCancel,g=e.onEdit,v=Object(c.useState)(""),j=Object(s.a)(v,2),m=j[0],O=j[1],x=Object(c.useState)(""),y=Object(s.a)(x,2),w=y[0],k=y[1],N=Object(c.useState)(4),S=Object(s.a)(N,2),_=S[0],E=S[1],U=Object(c.useState)(.75),I=Object(s.a)(U,2),C=I[0],R=I[1],M=Object(c.useState)(u.a),P=Object(s.a)(M,2),B=P[0],L=P[1],T=Object(c.useState)(null),D=Object(s.a)(T,2),W=D[0],A=D[1],J=Object(c.useState)(!1),z=Object(s.a)(J,2),H=z[0],q=z[1],F=Object(c.useState)(""),G=Object(s.a)(F,2),Y=G[0],X=G[1],V=(u.b[u.a],Object(c.useState)(u.b[u.a])),Z=Object(s.a)(V,2),K=Z[0],$=Z[1],Q=function(){O(""),k(""),E(4),q(!1),A(null),R(.75),L(u.a),$(u.b[u.a]),X("")},ee=function(){var e=Object(i.a)(a.a.mark((function e(n){var r,i,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),(r={phrases:["a painting of a happy corgi wearing sunglasses"],negative_phrases:[],label:"",iterations:50,encoded_image:"",encoded_npy:"",encoded_mask:"",enable_video:!1,enable_zoom:!1,zoom_frequency:10,zoom_scale:.99,zoom_shift_x:0,zoom_shift_y:0,model:"stable_diffusion_text2im",glid_3_xl_clip_guidance:!1,glid_3_xl_clip_guidance_scale:150,glid_3_xl_skip_iterations:0,width:512,height:512,stable_diffusion_strength:.75,count:4}).phrases=[m||""],r.negative_phrases=[w||""],r.count=_,r.parent=W||void 0,r.stable_diffusion_strength=C,t?(i=Object(u.d)(t.width,t.height),r.width=i.width,r.height=i.height):(s=Object(u.d)(K.width,K.height),r.width=s.width,r.height=s.height),Y&&(r.encoded_image=Y),Q(),l(r);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(i.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files&&t.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:h()(n,(function(e){if(e instanceof HTMLCanvasElement){for(var t=e.width,n=e.height,r=Object(u.d)(t,n);Object(u.c)(Object(u.e)(r),t,n)<=0&&(r=Object(u.e)(r),!(Object(f.a)(r.width,r.height)>=2)););console.log("best match",r);var a=document.createElement("canvas");a.width=r.width,a.height=r.height;var i=a.getContext("2d");if(i){i.drawImage(e,0,0,a.width,a.height);var s=a.toDataURL("image/jpeg").split(",")[1];X(s),L(u.b.findIndex((function(e){return e.id===r.id}))),$(r),a.remove()}}}),{maxWidth:4096,maxHeight:4096,canvas:!0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){t?(O(t.phrases.join(", ")),k(t.negative_phrases.join(", ")),E(4),A(t.id),q(!0),R(t.stable_diffusion_strength),X("")):Q()}),[t]),Object(p.jsx)("form",{onSubmit:ee,children:Object(p.jsxs)("div",{className:"homepage-prompt",children:[Object(p.jsxs)("div",{className:"input-group",children:[Object(p.jsx)("input",{className:"form-control",placeholder:"What would you like to create?",value:m,onChange:function(e){return O(e.target.value)}}),Object(p.jsx)("div",{className:"input-group-append",children:Object(p.jsxs)("button",{type:"submit",className:"btn btn-secondary light-button",style:{marginLeft:"8px"},disabled:!m||n,children:[!n&&Object(p.jsx)("i",{className:"fas fa-paint-brush"}),n&&Object(p.jsx)("i",{className:"fas fa-spinner fa-spin"})]})})]}),Object(p.jsxs)("div",{style:{marginTop:"24px"},children:[Object(p.jsx)("a",{href:"javascript:void(0)",onClick:function(){return q(!H)},style:{color:"white",textDecoration:"underline"},children:"Advanced"}),"\xa0",H?Object(p.jsx)("i",{className:"fas fa-chevron-up"}):Object(p.jsx)("i",{className:"fas fa-chevron-down"})]}),H&&Object(p.jsxs)("div",{className:"homepage-prompt-advanced",children:[t&&!Y&&Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Parent Image"}),Object(p.jsx)("img",{style:{display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"100%"},src:"".concat(r,"/").concat(W,".image.jpg?updated_at=").concat(t.updated_at)})]}),Y&&Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Init Image"}),Object(p.jsx)("img",{style:{display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"100%"},src:"data:image/jpeg;base64,".concat(Y)})]}),!t&&!Y&&Object(p.jsx)(d.a,{aspectRatio:B,onChange:function(e){L(e),$(u.b[e])}}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("div",{style:{display:"block",maxWidth:Y?"350px":"180px",marginTop:"40px",marginRight:"auto",marginLeft:"auto"},children:[Object(p.jsxs)("label",{id:"loadimage-wrapper",className:"btn btn-primary ",style:{display:"inline"},children:[Object(p.jsx)("i",{className:"fas fa-upload"}),"\xa0",Y||t?"Replace Image":"Upload Image",Object(p.jsx)("input",{id:"loadimage",type:"file",style:{display:"none"},onChange:te})]}),Y&&Object(p.jsxs)("label",{className:"btn btn-secondary",onClick:function(){return X("")},style:{display:"inline"},children:[Object(p.jsx)("i",{className:"fas fa-trash"}),"\xa0 Remove Image"]})]})}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"negativePrompt",children:"Negative Prompt"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"negativePrompt",placeholder:"What would you like to avoid?",value:w,onChange:function(e){return k(e.target.value)}}),Object(p.jsx)("span",{className:"helptext",children:'Try descriptive words like "blurry" or "distorted"'})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsxs)("label",{htmlFor:"count",children:["Count: ",_]}),Object(p.jsx)("input",{type:"range",className:"form-control-range",id:"count",min:"1",max:"20",value:_,onChange:function(e){return E(parseInt(e.target.value))}}),Object(p.jsx)("span",{className:"helptext",children:"This is how many images you want to generate"})]}),(W||Y)&&Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsxs)("label",{htmlFor:"variationStrength",children:["Variation Strength:\xa0",(100*C).toFixed(0),"%"]}),Object(p.jsx)("input",{type:"range",className:"form-control-range",id:"variationStrength",min:"0.05",max:"0.95",step:"0.05",value:C,onChange:function(e){return R(parseFloat(e.target.value))}}),Object(p.jsx)("span",{className:"helptext",children:"This is how much variation you want to see from the parent image"})]}),H&&Object(p.jsx)("div",{className:"form-group",style:{minHeight:"20px"},children:Object(p.jsxs)("div",{className:"float-right",children:[t&&Object(p.jsxs)("button",{type:"button",className:"btn btn-secondary light-button",onClick:function(){Q(),b()},children:[Object(p.jsx)("i",{className:"fas fa-times"}),"\xa0CANCEL"]}),Object(p.jsxs)("button",{type:"submit",className:"btn btn-primary",style:{marginLeft:"8px"},disabled:!m||n,children:[!n&&Object(p.jsx)("i",{className:"fas fa-paint-brush"}),n&&Object(p.jsx)("i",{className:"fas fa-spinner fa-spin"}),"\xa0PAINT"]}),Y&&Object(p.jsxs)("button",{type:"button",className:"btn btn-secondary light-button",onClick:function(){Y||console.error("Cannot edit without existing image");var e={phrases:["a painting of a happy corgi wearing sunglasses"],negative_phrases:[],label:"",iterations:50,encoded_image:"",encoded_npy:"",encoded_mask:"",enable_video:!1,enable_zoom:!1,zoom_frequency:10,zoom_scale:.99,zoom_shift_x:0,zoom_shift_y:0,model:"stable_diffusion_text2im",glid_3_xl_clip_guidance:!1,glid_3_xl_clip_guidance_scale:150,glid_3_xl_skip_iterations:0,width:512,height:512,stable_diffusion_strength:.75,count:4};e.phrases=[m||""],e.negative_phrases=[w||""],e.count=1,e.parent=W||void 0,e.stable_diffusion_strength=C,e.status=o.a.Completed,e.width=K.width,e.height=K.height,Y&&(e.encoded_image=Y),Q(),g(e)},style:{marginLeft:"8px"},disabled:!m||n,children:[Object(p.jsx)("i",{className:"fas fa-edit"}),"\xa0EDIT"]})]})})]})]})})}},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return r.b})),n.d(t,"b",(function(){return r.d}));var r=n(16);n(14),n(17)},64:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(0);var r=n(11),a=n(1),i=function(e){var t=e.aspectRatio,n=e.onChange,i=e.disabled,s=r.b[t];return Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("div",{style:{minHeight:"140px",display:"flex",alignItems:"center"},children:Object(a.jsx)("div",{style:{width:s.width/8,height:s.height/8,border:"1px dashed white",margin:"auto"}})}),Object(a.jsxs)("label",{children:["Aspect Ratio: ",s.displayName]}),Object(a.jsx)("input",{type:"range",disabled:i,className:"form-control-range",min:0,max:r.b.length-1,value:t,onChange:function(e){n(parseInt(e.target.value))}})]})}},91:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return j}));var r=n(7),a=n(14),i=n(17),s=n(43),c=n(22),o=n(25),u=n(26),l=n(0),h=n(30),d=n(64),f=n(37),p=n(11),b=n(33),g=n(1),v=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,"select")).renderer=void 0,r.zoomHelper=void 0,r.selectionOverlay=void 0,r.selectionOverlayPreview=void 0,r.selectionWidth=512,r.selectionHeight=512,r.panning=!1,r.renderer=e,r.zoomHelper=new b.a(e),r}return Object(i.a)(n,[{key:"updateArgs",value:function(e){Object(s.a)(Object(c.a)(n.prototype),"updateArgs",this).call(this,e),this.selectionWidth=e.selectionWidth||512,this.selectionHeight=e.selectionHeight||512,this.selectionOverlay={x:0,y:0,width:this.selectionWidth,height:this.selectionHeight},this.sync()}},{key:"sync",value:function(){this.renderer.setSelectionOverlay(this.selectionOverlay),this.renderer.setSelectionOverlayPreview(this.selectionOverlayPreview)}},{key:"onMouseDown",value:function(e){this.selectionOverlayPreview&&0===e.button?(this.selectionOverlay=this.selectionOverlayPreview,this.selectionOverlayPreview=void 0,this.sync()):1===e.button&&(this.panning=!0)}},{key:"onMouseMove",value:function(e){var t=this.renderer.getWidth(),n=this.renderer.getHeight();if(this.panning)this.zoomHelper.onPan(e);else{var r=this.zoomHelper.translateMouseToCanvasCoordinates(e.nativeEvent.offsetX,e.nativeEvent.offsetY),a=r.x,i=r.y;a=64*Math.round(a/64),i=64*Math.round(i/64),a-=256,i-=256,a=Math.max(0,Math.min(a,t-this.selectionWidth)),i=Math.max(0,Math.min(i,n-this.selectionHeight)),a=Math.min(a,t-this.selectionWidth),i=Math.min(i,n-this.selectionHeight),this.selectionOverlayPreview={x:a,y:i,width:this.selectionWidth,height:this.selectionHeight},this.sync()}}},{key:"onMouseUp",value:function(e){this.panning=!1}},{key:"onMouseLeave",value:function(e){this.selectionOverlayPreview=void 0,this.panning=!1,this.sync()}},{key:"onWheel",value:function(e){this.zoomHelper.onWheel(e)}},{key:"destroy",value:function(){return this.renderer.setSelectionOverlayPreview(void 0),!0}}]),n}(h.a),j=function(e){var t=e.renderer,n=e.tool,a=Object(f.a)(t.getWidth(),t.getHeight()),i=Object(l.useState)(p.a),s=Object(r.a)(i,2),c=s[0],o=s[1];return Object(l.useEffect)((function(){if(0===Object(f.a)(t.getWidth(),t.getHeight())){var e=Object(p.d)(t.getWidth(),t.getHeight());o(e.id),n.updateArgs({selectionWidth:e.width,selectionHeight:e.height})}else{var r=n.getArgs();if(r.selectionWidth&&r.selectionHeight){var a=Object(p.d)(r.selectionWidth,r.selectionHeight);o(a.id),n.updateArgs(r)}else r.selectionWidth=p.b[c].width,r.selectionHeight=p.b[c].height,n.updateArgs(r)}}),[n]),Object(g.jsx)(g.Fragment,{children:a>0&&Object(g.jsx)(d.a,{aspectRatio:c,onChange:function(e){var t=p.b[e];n.updateArgs({selectionWidth:t.width,selectionHeight:t.height}),o(e)}})})}},92:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return m}));var r=n(7),a=n(2),i=n.n(a),s=n(4),c=n(14),o=n(17),u=n(25),l=n(26),h=n(0),d=n(140),f=n(49),p=n(30),b=n(50),g=n(33),v=n(1),j=function(t){Object(u.a)(r,t);var n=Object(l.a)(r);function r(e){var t;return Object(c.a)(this,r),(t=n.call(this,"enhance")).renderer=void 0,t.zoomHelper=void 0,t.prompt="",t.count=4,t.variationStrength=.35,t._state="default",t.stateHandler=function(){},t.selectionControlsListener=function(){},t.imageData=[],t.selectedImageDataIndex=-1,t.panning=!1,t.renderer=e,t.zoomHelper=new g.a(e),t}return Object(o.a)(r,[{key:"state",get:function(){return this._state},set:function(e){this._state=e,this.stateHandler(e),"confirm"==e?this.selectionControlsListener(!0):this.selectionControlsListener(!1)}},{key:"onMouseDown",value:function(e){1===e.button&&(this.panning=!0)}},{key:"onMouseMove",value:function(e){this.panning&&this.zoomHelper.onPan(e)}},{key:"onMouseUp",value:function(e){this.panning=!1}},{key:"onWheel",value:function(e){this.zoomHelper.onWheel(e)}},{key:"updateArgs",value:function(e){this.prompt=e.prompt||"",this.count=e.count||4,this.variationStrength=e.variationStrength||.75}},{key:"onChangeState",value:function(e){this.stateHandler=e}},{key:"onShowSelectionControls",value:function(e){this.selectionControlsListener=e}},{key:"featherEdges",value:function(e,t,n,r){var a=0!=e.x,i=e.x+e.width!=t,s=0!=e.y,c=e.y+e.height!=n,o=Math.min(e.width,e.height),u=Math.floor(o/8);if(s)for(var l=0;l<u;l++)for(var h=0;h<e.width;h++){var d=4*(l*e.width+h),f=l/u*255,p=r.data[d+3];r.data[d+3]=Math.min(f,p)}if(c)for(var b=e.height-u;b<e.height;b++)for(var g=0;g<e.width;g++){var v=4*(b*e.width+g),j=(e.height-b)/u*255,m=r.data[v+3];r.data[v+3]=Math.min(j,m)}if(a)for(var O=0;O<u;O++)for(var x=0;x<e.height;x++){var y=4*(x*e.width+O),w=O/u*255,k=r.data[y+3];r.data[y+3]=Math.min(w,k)}if(i)for(var N=e.width-u;N<e.width;N++)for(var S=0;S<e.height;S++){var _=4*(S*e.width+N),E=(e.width-N)/u*255,U=r.data[_+3];r.data[_+3]=Math.min(E,U)}}},{key:"loadImageData",value:function(t,n,r,a){var i=this;return new Promise((function(s,c){t.getImageData(n,{responseType:"arraybuffer"}).then((function(t){var n=e.from(t.data,"binary").toString("base64"),o="data:image/jpeg;base64,".concat(n),u=new Image;u.src=o,u.onload=function(){var e=document.createElement("canvas");e.width=u.width,e.height=u.height;var t=e.getContext("2d");if(t){t.drawImage(u,0,0);var n=t.getImageData(0,0,u.width,u.height);i.featherEdges(a,r.width,r.height,n),s(n),e.remove()}else c(new Error("Failed to get canvas context"))}}))}))}},{key:"cancel",value:function(){this.state="default",this.imageData=[],this.renderer.setEditImage(null)}},{key:"submit",value:function(){var e=Object(s.a)(i.a.mark((function e(t,n){var r,a,s,c,o,u,l,h,p,g,v;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.renderer.getSelectionOverlay(),a=this.renderer.getEncodedImage(r)){e.next=5;break}return console.error("No selection"),e.abrupt("return");case 5:return(s=Object(f.b)()).label="",s.encoded_image=a,s.parent=n.id,s.phrases=[this.prompt||n.phrases[0]],s.negative_phrases=n.negative_phrases,s.stable_diffusion_strength=this.variationStrength,s.count=this.count,s.width=r.width,s.height=r.height,this.state="busy",e.next=18,t.createImage(s);case 18:if(c=e.sent,(o=c.data.images)&&0!==o.length){e.next=23;break}throw this.state="default",new Error("No images returned");case 23:u=!1;case 24:if(u){e.next=43;break}return l=0,e.next=28,Object(d.a)(1e3);case 28:h=0;case 29:if(!(h<o.length)){e.next=40;break}if(o[h].status!==b.b.Completed){e.next=33;break}return l++,e.abrupt("continue",37);case 33:return e.next=35,t.getImage(o[h].id);case 35:(p=e.sent).data.status===b.b.Completed&&(o[h]=p.data,l++);case 37:h++,e.next=29;break;case 40:l===o.length&&(u=!0),e.next=24;break;case 43:o.sort((function(e,t){return t.score-e.score})),this.imageData=[],g=0;case 46:if(!(g<o.length)){e.next=55;break}return e.t0=this.imageData,e.next=50,this.loadImageData(t,o[g].id,n,r);case 50:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 52:g++,e.next=46;break;case 55:v=0;case 56:if(!(v<o.length)){e.next=62;break}return e.next=59,t.deleteImage(o[v].id);case 59:v++,e.next=56;break;case 62:this.renderer.setEditImage(this.imageData[0]),this.selectedImageDataIndex=0,this.state="confirm";case 65:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"select",value:function(e){"left"==e&&(this.selectedImageDataIndex--,this.selectedImageDataIndex<-1&&(this.selectedImageDataIndex=this.imageData.length-1)),"right"==e&&(this.selectedImageDataIndex++,this.selectedImageDataIndex>=this.imageData.length&&(this.selectedImageDataIndex=-1)),-1===this.selectedImageDataIndex?this.renderer.setEditImage(null):this.renderer.setEditImage(this.imageData[this.selectedImageDataIndex])}},{key:"onSaveImage",value:function(e){this.saveListener=e}},{key:"confirm",value:function(){this.renderer.commitSelection(),this.state="default",this.imageData=[];var e=this.renderer.getEncodedImage(null);e&&this.saveListener&&this.saveListener(e)}}]),r}(p.a),m=function(e){var t=e.api,n=e.image,a=(e.renderer,e.tool),i=Object(h.useState)(4),s=Object(r.a)(i,2),c=s[0],o=s[1],u=Object(h.useState)(.35),l=Object(r.a)(u,2),d=l[0],f=l[1],p=Object(h.useState)(n.phrases[0]),b=Object(r.a)(p,2),g=b[0],j=b[1],m=Object(h.useState)(a.state),O=Object(r.a)(m,2),x=O[0],y=O[1];return a.onChangeState(y),"busy"==x?Object(v.jsxs)("div",{style:{marginTop:"16px"},children:[Object(v.jsx)("i",{className:"fa fa-spinner fa-spin"}),"\xa0 Enhancing..."]}):"confirm"==x?Object(v.jsxs)("div",{style:{marginTop:"16px"},children:[Object(v.jsx)("button",{className:"btn btn-primary",onClick:function(){a.cancel()},children:"Revert"}),Object(v.jsx)("button",{className:"btn btn-primary",onClick:function(){return a.confirm()},style:{marginLeft:"8px"},children:"Save"})]}):Object(v.jsxs)("div",{style:{marginTop:"16px"},children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"prompt",children:"Prompt"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"prompt",value:g,onChange:function(e){j(e.target.value)}}),Object(v.jsx)("small",{className:"form-text text-muted",children:"Customize the text prompt here"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsxs)("label",{htmlFor:"count",children:["Count: ",c]}),Object(v.jsx)("input",{type:"range",className:"form-control-range",id:"count",min:"1",max:"10",step:"1",value:c,onChange:function(e){o(parseInt(e.target.value))}}),Object(v.jsx)("small",{className:"form-text text-muted",children:"Number of enhancement options"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsxs)("label",{htmlFor:"variation-strength",children:["Variation Strength: ",Math.round(100*d),"%"]}),Object(v.jsx)("input",{type:"range",className:"form-control-range",id:"variation-strength",min:"0",max:"1",step:"0.05",value:d,onChange:function(e){f(parseFloat(e.target.value))}}),Object(v.jsx)("small",{className:"form-text text-muted",children:"How much variation to use"})]}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("button",{className:"btn btn-primary",onClick:function(){a.updateArgs({count:c,variationStrength:d,prompt:g}),a.submit(t,n)},children:"Enhance"})})]})}}).call(this,n(106).Buffer)},94:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return b}));var r=n(7),a=n(14),i=n(17),s=n(43),c=n(22),o=n(25),u=n(26),l=n(0),h=n(30),d=n(33),f=n(1),p=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,"smudge")).renderer=void 0,r.zoomHelper=void 0,r.brushSize=10,r.brushOpacity=.2,r.lastX=0,r.lastY=0,r.panning=!1,r.smudging=!1,r._dirty=!1,r.dirtyListener=void 0,r.renderer=e,r.zoomHelper=new d.a(e),r.renderer.copyEditImageFromBaseImage(),r}return Object(i.a)(n,[{key:"dirty",get:function(){return this._dirty},set:function(e){this._dirty=e,this.dirtyListener&&this.dirtyListener(e)}},{key:"sync",value:function(){this.renderer.setCursor({type:"circle",color:"white",radius:this.brushSize/2,x:this.lastX,y:this.lastY})}},{key:"updateArgs",value:function(e){Object(s.a)(Object(c.a)(n.prototype),"updateArgs",this).call(this,e),this.brushSize=e.brushSize||10,this.brushOpacity=e.brushOpacity||.2,this.sync()}},{key:"onMouseMove",value:function(e){var t=this.zoomHelper.translateMouseToCanvasCoordinates(e.nativeEvent.offsetX,e.nativeEvent.offsetY),n=t.x,r=t.y;this.panning?this.zoomHelper.onPan(e):this.smudging&&(this.renderer.smudgeLine(this.lastX,this.lastY,n,r,this.brushSize,this.brushOpacity),this.dirty=!0),this.lastX=n,this.lastY=r,this.sync()}},{key:"onWheel",value:function(e){this.zoomHelper.onWheel(e),this.sync()}},{key:"onMouseDown",value:function(e){0===e.button?this.smudging=!0:1===e.button&&(this.panning=!0),this.sync()}},{key:"onMouseUp",value:function(e){0===e.button?this.smudging=!1:1===e.button&&(this.panning=!1)}},{key:"onSaveImage",value:function(e){this.saveListener=e}},{key:"onDirty",value:function(e){this.dirtyListener=e}},{key:"cancel",value:function(){this.renderer.copyEditImageFromBaseImage(),this.dirty=!1}},{key:"confirm",value:function(){this.renderer.commitSelection();var e=this.renderer.getEncodedImage(null);e&&this.saveListener&&this.saveListener(e),this.dirty=!1}},{key:"destroy",value:function(){return!(this.dirty&&!window.confirm("Are you sure you want to discard your changes?"))&&(this.renderer.setCursor(void 0),this.renderer.setEditImage(null),!0)}}]),n}(h.a),b=function(e){e.renderer;var t=e.tool,n=Object(l.useState)(10),a=Object(r.a)(n,2),i=a[0],s=a[1],c=Object(l.useState)(.2),o=Object(r.a)(c,2),u=o[0],h=o[1],d=Object(l.useState)(!1),p=Object(r.a)(d,2),b=p[0],g=p[1];return t.onDirty(g),Object(l.useEffect)((function(){t.updateArgs({brushSize:i,brushOpacity:u})}),[i,u]),Object(f.jsxs)("div",{style:{marginTop:"16px"},children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsxs)("label",{style:{width:"100%"},children:["Brush size",Object(f.jsxs)("small",{className:"form-text text-muted",style:{float:"right"},children:[i,"px"]})]}),Object(f.jsx)("input",{type:"range",className:"form-control-range",min:"1",max:"100",value:i,onChange:function(e){return s(parseInt(e.target.value))}})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsxs)("label",{style:{width:"100%"},children:["Brush opacity",Object(f.jsxs)("small",{className:"form-text text-muted",style:{float:"right"},children:[Math.round(100*u),"%"]})]}),Object(f.jsx)("input",{type:"range",className:"form-control-range",min:"0",max:"1",step:"0.01",value:u,onChange:function(e){return h(parseFloat(e.target.value))}})]}),b&&Object(f.jsxs)("div",{className:"form-group",style:{marginTop:"16px"},children:[Object(f.jsx)("button",{className:"btn btn-secondary",onClick:function(){return t.cancel()},children:"Revert"}),Object(f.jsx)("button",{className:"btn btn-primary",onClick:function(){return t.confirm()},style:{marginLeft:"8px"},children:"Save"})]})]})}},96:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return O}));var r=n(7),a=n(24),i=n(14),s=n(17),c=n(43),o=n(22),u=n(25),l=n(26),h=n(0),d=n(30),f=n(33),p=n(1),b=function(e){var t=e.selectedColor,n=e.color,r=e.onClick,a="palette-button";return t===n?a+=" selected":"#000000"==n&&(a+=" black"),Object(p.jsx)("div",{className:a,style:{backgroundColor:n},onClick:function(){return r(n)}})},g=n(151),v=function(e){var t=e.color,n=e.onColorSelected,a=Object(h.useState)(!1),i=Object(r.a)(a,2),s=i[0],c=i[1],o=Object(h.useState)(t),u=Object(r.a)(o,2),l=u[0],d=u[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{className:"color-picker",onClick:function(){c(!s),s&&n(l)},children:Object(p.jsx)("i",{className:"fas fa-plus"})}),s?Object(p.jsxs)("div",{style:{position:"absolute",zIndex:2},children:[Object(p.jsx)("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},onClick:function(){c(!1),s&&n(l)}}),Object(p.jsx)(g.a,{color:l,onChange:function(e){return d(e.hex)},onChangeComplete:function(e){return d(e.hex)}})]}):null]})},j=["#FFFFFF","#5A2C02","#386EB6","#6B31A1","#CB2C26","#000000","#888888","#50B050","#FBDB37","#E88D2D"],m=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,"pencil")).renderer=void 0,r.zoomHelper=void 0,r.brushSize=10,r.brushColor=j[0],r.palette=[].concat(j),r.panning=!1,r.isDrawing=!1,r.lastX=0,r.lastY=0,r.colorPicking=!1,r.lastPickedColor="#000000",r._dirty=!1,r.dirtyListener=void 0,r.colorPickedListener=void 0,r.renderer=e,r.zoomHelper=new f.a(e),r}return Object(s.a)(n,[{key:"dirty",get:function(){return this._dirty},set:function(e){this._dirty=e,this.dirtyListener&&this.dirtyListener(e)}},{key:"sync",value:function(){this.colorPicking?this.renderer.setCursor({x:this.lastX,y:this.lastY,radius:this.renderer.getWidth()/20,color:this.lastPickedColor,type:"colorpicker"}):this.renderer.setCursor({x:this.lastX,y:this.lastY,radius:this.brushSize/2,color:this.brushColor,type:"circle-fill"})}},{key:"updateArgs",value:function(e){Object(c.a)(Object(o.a)(n.prototype),"updateArgs",this).call(this,e),this.brushSize=e.brushSize||10,this.brushColor=e.brushColor||j[0],this.palette=e.palette||[].concat(j),this.sync()}},{key:"onMouseDown",value:function(e){if(!this.colorPicking){if(0===e.button){var t=this.zoomHelper.translateMouseToCanvasCoordinates(e.nativeEvent.offsetX,e.nativeEvent.offsetY),n=t.x,r=t.y;this.renderer.drawPoint(n,r,this.brushSize,this.brushColor),this.isDrawing=!0,this.lastX=n,this.lastY=r,this.dirty=!0}else 1===e.button&&(this.panning=!0);this.sync()}}},{key:"onMouseMove",value:function(e){var t=this.zoomHelper.translateMouseToCanvasCoordinates(e.nativeEvent.offsetX,e.nativeEvent.offsetY),n=t.x,r=t.y;if(this.colorPicking)this.lastPickedColor=this.renderer.getPixel(n,r);else if(this.panning)this.zoomHelper.onPan(e);else{var a=this.zoomHelper.translateMouseToCanvasCoordinates(e.nativeEvent.offsetX,e.nativeEvent.offsetY),i=a.x,s=a.y;this.isDrawing&&(this.renderer.drawLine(this.lastX,this.lastY,i,s,this.brushSize,this.brushColor),this.dirty=!0)}this.lastX=n,this.lastY=r,this.sync()}},{key:"onMouseUp",value:function(e){0===e.button?(this.isDrawing=!1,this.colorPicking&&(this.colorPicking=!1,this.brushColor=this.lastPickedColor,this.colorPickedListener&&this.colorPickedListener(this.lastPickedColor))):1===e.button&&(this.panning=!1),this.sync()}},{key:"onWheel",value:function(e){this.zoomHelper.onWheel(e),this.sync()}},{key:"cancel",value:function(){this.renderer.setEditImage(null),this.dirty=!1}},{key:"confirm",value:function(){this.renderer.commitSelection();var e=this.renderer.getEncodedImage(null);e&&this.saveListener&&this.saveListener(e),this.dirty=!1}},{key:"onSaveImage",value:function(e){this.saveListener=e}},{key:"onDirty",value:function(e){this.dirtyListener=e}},{key:"destroy",value:function(){return!(this.dirty&&!window.confirm("Are you sure you want to discard your changes?"))&&(this.renderer.setCursor(void 0),this.renderer.setEditImage(null),!0)}},{key:"beginColorpicker",value:function(){this.colorPicking=!0,this.sync()}},{key:"onColorPicked",value:function(e){this.colorPickedListener=e}}]),n}(d.a);var O=function(e){e.renderer;var t=e.tool,n=Object(h.useState)(10),i=Object(r.a)(n,2),s=i[0],c=i[1],o=Object(h.useState)(j[0]),u=Object(r.a)(o,2),l=u[0],d=u[1],f=Object(h.useState)(j),g=Object(r.a)(f,2),m=g[0],O=g[1],x=Object(h.useState)(!1),y=Object(r.a)(x,2),w=y[0],k=y[1];t.onDirty(k),Object(h.useEffect)((function(){t.updateArgs({brushSize:s,brushColor:l,palette:m})}),[s,l,m]);var N=function(e){d(e),O(function(e,t){return-1===e.indexOf(t)&&(e=[t].concat(Object(a.a)(e))),e.length>30&&(e=e.slice(0,30)),e}(m,e))};return t.onColorPicked(N),Object(p.jsxs)("div",{style:{marginTop:"16px"},children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsxs)("label",{style:{width:"100%"},children:["Brush size",Object(p.jsxs)("small",{className:"form-text text-muted",style:{float:"right"},children:[s,"px"]})]}),Object(p.jsx)("input",{type:"range",className:"form-control-range",min:"1",max:"100",value:s,onChange:function(e){return c(parseInt(e.target.value))}})]}),Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"},children:[m.map((function(e,t){return Object(p.jsx)(b,{selectedColor:l,color:e,onClick:function(e){return d(e)}},t)})),Object(p.jsx)("button",{className:"color-picker",onClick:function(){return t.beginColorpicker()},children:Object(p.jsx)("i",{className:"fas fa-eye-dropper"})}),Object(p.jsx)(v,{color:l,onColorSelected:function(e){return N(e)}})]}),w&&Object(p.jsxs)("div",{className:"form-group",style:{marginTop:"16px"},children:[Object(p.jsx)("button",{className:"btn btn-secondary",onClick:function(){return t.cancel()},children:"Revert"}),Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){return t.confirm()},style:{marginLeft:"8px"},children:"Save"})]})]})}}},[[313,1,2]]]);
//# sourceMappingURL=main.fe2598e4.chunk.js.map